!function(){var n={779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=c.apply(null,n))&&e.push(r);else if("object"==a)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},226:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'}},r={};function ao(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,ao),t.exports}ao.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ao.d(t,{a:t}),t},ao.d=function(e,t){for(var n in t)ao.o(t,n)&&!ao.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},ao.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function n(){return document.getElementById("navigation-container")}function e(){var e=(null===(t=n())||void 0===t?void 0:t.dataset.safetySupportItemRollout)||"0",t=parseInt(e,10);return!(!Number.isFinite(t)||t<=0)&&(e=parseInt(M.CurrentUser.userId,10),!!Number.isFinite(e)&&(e+67)%100<t)}var L=React,j=ao.n(L),D=CoreUtilities,t=ReactDOM,M=Roblox,r=ao.n(M),N=HeaderScripts,q=ReactUtilities,B={arrowUp:38,arrowDown:40,tab:9,enter:13},a="container-main",o={name:"Roblox.Logout"},i=1,c={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},u={friendshipNotifications:"FriendshipNotifications",requestCountChanged:"Roblox.Friends.CountChanged",friendshipCreated:"FriendshipCreated",friendshipDestroyed:"FriendshipDestroyed",friendshipDeclined:"FriendshipDeclined",friendshipRequested:"FriendshipRequested"},l={name:"Roblox.Messages.CountChanged"},b="?",I="Response.InternalServerErrorDescription",s={name:"headerMenuIconClick"},d={quickLogin:"quickLogin",logout:"logout",settings:"settings",switchAccountKey:"switchAccountKey"},y={robuxTruncateThreshold:1e4,creditTruncateThreshold:1e4},R={control:"control",hideCreditAndRobux:"hideCreditAndRobux",showCreditAndRobux:"showCreditAndRobux"},T={accountSwitchedFlag:"RBXASAccountSwitched",accountSwitchedMessage:"Description.AccountSwitchedConfirmationBannerText"},m={common:["CommonUI.Features","CommonUI.Messages","Common.AlertsAndOptions","Common.Presence"],feature:"Feature.ShopDialog"},f=PropTypes,p=ao.n(f),v=ao(779),g=ao.n(v),h=ReactStyleGuide,S=RobloxThumbnails,E=RobloxBadges,w=M.EnvironmentUrls.apiGatewayUrl,C=M.EnvironmentUrls.apiGatewayCdnUrl,F=(M.EnvironmentUrls.localeApi,{experimentLayer:"Website.TopNavSearchBox",debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:w+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},getSuggestionUrl:{url:w+"/games-autocomplete/v1/get-suggestion/",withCredentials:!0},avatarRequestSuggestionUrl:{url:w+"/autocomplete-avatar/v2/suggest",withCredentials:!0},avatarRequestSuggestionCdnUrl:{url:C+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(n().dataset.numberOfAutocompleteSuggestions,10)&&_.miscSearchLink.reduce(function(e,t){return e.push.apply(e,t.pageSort),e},[]).reduce(function(e,t){return e||-1<window.location.pathname.indexOf(t)},!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=n())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=n())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=n())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0},isRedirectLibraryToCreatorMarketplaceEnabled:function(){var e;return"True"===(null===(e=n())||void 0===e?void 0:e.dataset.isRedirectLibraryToCreatorMarketplaceEnabled)}}),A=(O=M.Endpoints.getAbsoluteUrl)("/help-safety"),x=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},f=M.Endpoints.getAbsoluteUrl,v=M.EnvironmentUrls.authApi,w={url:f("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},C={url:f("/catalog?CatalogContext=1&Keyword="),label:"Heading.Marketplace",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},O=[{url:f("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},C,{url:f("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:f("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],_={creatorMarketplaceUrl:"https://create."+M.EnvironmentUrls.domain+"/marketplace/models?keyword=",scrollListItems:{home:{url:f("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:f("/users/"+N.authenticatedUser.id+"/profile"),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:f("/my/messages/#!/inbox"),urlForNotification:f("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:f("/users/friends"),urlForNotification:f("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:f("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:f("/users/"+N.authenticatedUser.id+"/inventory"),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:f("/trades"),urlForNotification:f("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:f("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:f("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog",blankTarget:!0},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:f("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:f("/premium/membership?ctx=leftnav"),labelTranslationKey:N.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:w,avatarSearchLink:C,miscSearchLink:O,universalSearchUrls:[{url:f("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:f("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:f("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:f("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:f("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:x([w],O),settingsUrl:{settings:{url:f("/my/account"),label:"Label.sSettings"},quickLogin:{url:f("/home"),label:"Label.sQuickLogin"},help:{url:f("/info/help?locale="),label:"Label.sHelp",isVisibleFn:function(){return!e()}},safetySupport:{url:A,label:"Label.HelpAndSafety",isVisibleFn:e},switchAccountKey:{url:f("/home"),label:"Label.sSwitchAccount"},logout:{url:v+"/v2/logout",label:"Label.sLogout"}},buyRobuxUrl:{myTransactions:{url:f("/transactions"),label:"Label.MyMoney"},buyRobux:{url:f("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux"}},userDataUrl:f("/navigation/userData"),quickLoginUrl:f("/crossdevicelogin/ConfirmCode"),redeemUrl:{url:f("/redeem"),label:"Heading.RedeemRobloxCodes"},buyGiftCardUrl:{url:"https://roblox.cashstar.com/gift-card/buy/?ref=1023buygc",label:"Label.sBuyGiftCard",cacheKey:"giftCardExp"}},k=M.Endpoints.getAbsoluteUrl,P=M.EnvironmentUrls.authApi,U=M.EnvironmentUrls.accountSettingsApi,G=(M.EnvironmentUrls.websiteUrl,M.EnvironmentUrls.adsApi,M.EnvironmentUrls.economyApi),K=M.EnvironmentUrls.privateMessagesApi,V=M.EnvironmentUrls.tradesApi,W=M.EnvironmentUrls.friendsApi,Q=M.EnvironmentUrls.apiGatewayUrl,x=function(){return k("/account/signupredir")},w=function(){return k("/home")},O=function(e,t){return k("/".concat(e.toLowerCase(),"/").concat(t))},H=function(){return k("/login")},A=function(){return k("/newLogin")},v=function(){return k("/CreateAccount")},z=function(){return"".concat(U,"/v1/email")},$=function(){return"".concat(P,"/v2/logout")},X=function(){return"".concat(K,"/v1/messages/unread/count")},Y=function(e){return"".concat(G,"/v1/users/").concat(e,"/currency")},J=function(){return"".concat(V,"/v1/trades/inbound/count")},Z=function(){return"".concat(W,"/v1/user/friend-requests/count")},ee=function(){return"".concat(Q,"/credit-balance/v1/get-credit-balance-for-navigation")},te=function(){return"".concat(Q,"/credit-balance/v1/get-conversion-metadata")},ne=function(){return"".concat(Q,"/credit-balance/v1/get-gift-card-visibility")},re=function(){var e={url:X(),withCredentials:!0};return D.httpService.get(e)},ae=function(e){e={url:Y(e),withCredentials:!0};return D.httpService.get(e)},oe=function(){var e={url:J(),withCredentials:!0};return D.httpService.get(e)},ie=function(){var e={url:Z(),withCredentials:!0};return D.httpService.get(e)},ce=function(){var e={url:z(),withCredentials:!0};return D.httpService.get(e)},ue=function(){var e={url:$(),withCredentials:!0};return D.httpService.post(e)},le=function(){var e={url:ee(),withCredentials:!0};return D.httpService.get(e)},se=function(){var e={url:te(),withCredentials:!0};return D.httpService.get(e)},de=function(){var e={url:ne(),withCredentials:!0};return D.httpService.get(e)},me=CoreRobloxUtilities;function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=me.dataStores.userDataStore.maxFriendRequestNotificationCount,ve=me.dataStores.userDataStore.maxMessagesNotificationCount;function be(e){var t=e.translate,n=e.idSelector,r=e.isModal,a=e.name,o=e.iconClass,i=e.labelTranslationKey,c=e.url,u=e.urlForNotification,l=e.onClickShopLink,s=e.friendsData,d=e.messagesData,m=e.tradeData,f=e.blankTarget,e=(fe(e={},_.scrollListItems.friends.name,s),fe(e,_.scrollListItems.messages.name,d),fe(e,_.scrollListItems.trade.name,m),e)[a],c=null!=e&&e.count?u:c,f=f?"_blank":"_self";return r?j().createElement("li",{key:a},j().createElement("button",{id:n,type:"button",onClick:l,className:"dynamic-overflow-container text-nav"},j().createElement("div",null,j().createElement("span",{className:o})),j().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},t(i)))):j().createElement("li",{key:a},j().createElement(h.Link,{url:c,id:n,className:"dynamic-overflow-container text-nav",target:f},j().createElement("div",null,j().createElement("span",{className:o})),j().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},t(i)),e&&0<e.count&&j().createElement("div",{className:"dynamic-width-item align-right"},j().createElement("span",{className:"notification-blue notification",title:D.numberFormat.getNumberFormat(e.count)},function(e,t){if(e===_.scrollListItems.friends.name&&pe<=t)return"".concat(pe,"+");if(e===_.scrollListItems.messages.name&&ve<=t)return"".concat(ve,"+");return D.abbreviateNumber.getTruncValue(t,1e3)}(a,e.count)))))}be.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,blankTarget:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},be.propTypes={idSelector:p().string,translate:p().func.isRequired,isModal:p().bool,name:p().string.isRequired,iconClass:p().string.isRequired,labelTranslationKey:p().string.isRequired,url:p().string,urlForNotification:p().string,onClickShopLink:p().func.isRequired,blankTarget:p().bool,friendsData:p().shape({count:p().number}),messagesData:p().shape({count:p().number}),tradeData:p().shape({count:p().number})};var ye=be;function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(f=me.eventStreamService.eventTypes).pageLoad,p().func.isRequired,p().instanceOf(Array);var we=_.universalSearchUrls,Ce=_.newUniversalSearchUrls,Ae=_.avatarSearchLink,xe=i,Oe=!N.authenticatedUser.isAuthenticated,i=function(){var r=N.authenticatedUser.created;return ce().then(function(e){var t,n=e.data.verified;return t=r,e=n,n=new Date,t=new Date(t),+(xe<(n-t)/864e5&&!e)}).catch(function(e){console.debug(e)})},Ne=function(e){M.EventStream&&M.EventStream.SendEventWithTarget(e,"click",{},M.EventStream.TargetTypes.WWW)},Ie=function(e){if(Oe||!M.RealTime)return function(){};document.addEventListener(u.requestCountChanged,e);var t=M.RealTime.Factory.GetClient();return t.Subscribe(u.friendshipNotifications,e),function(){document.removeEventListener(u.requestCountChanged,e),t.Unsubscribe(u.friendshipNotifications,e)}},Re=function(e){return Oe||!M.RealTime?function(){}:(document.addEventListener(l,e),function(){document.removeEventListener(l,e)})},Te=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},ke=function(){var e=ge(we);return e.sort(function(e){return e.pageSort.reduce(function(e,t){return e||-1<window.location.href.indexOf(t)},!1)?-1:1}),e},Pe=function(){var e=ge(Ce),t=e.filter(function(e){return e.pageSort.some(function(e){return-1<window.location.pathname.indexOf(e)})}),e=e.filter(function(e){return e.pageSort.every(function(e){return-1===window.location.pathname.indexOf(e)})});return[].concat(ge(t),ge(e))},Ue=function(){return Ae.pageSort.some(function(e){return-1<window.location.pathname.indexOf(e)})},Le=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className},je=function(e){var n={};return("?"===e[0]?e.substr(1):e).split("&").forEach(function(e){var t;e.includes("=")&&(e=(t=he(e.split("="),2))[0],t=t[1],n[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(t))}),n};function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Me(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function qe(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var Ge=c;function Ke(e){var t=e.translate,n=_e(e,["translate"]),r=Be((0,L.useState)(!1),2),a=r[0],o=r[1],i=(0,L.useCallback)(function(){o(function(e){return!e}),Ne(Ge.clickMerchandise)},[]),c=function(){o(!1)},u=Object.values(_.scrollListItems).map(function(e){return j().createElement(ye,De({key:e.name},qe(qe({translate:t,onClickShopLink:i},e),n)))}),e=j().createElement("li",{className:"rbx-upgrade-now"},j().createElement("a",{href:_.upgradeButton.url,className:"btn-growth-md btn-secondary-md",onClick:function(){me.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(me.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,me.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEFT_NAVIGATION_BAR,me.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,N.authenticatedUser.isPremiumUser?me.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.PREMIUM:me.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GET_PREMIUM)},id:"upgrade-now-button"},t(_.upgradeButton.labelTranslationKey))),r=j().createElement(j().Fragment,null,j().createElement("p",{className:"shop-description"},t("Description.RetailWebsiteRedirect")),j().createElement("p",{className:"shop-warning"},t("Description.PurchaseAgeWarning"))),c=j().createElement(h.SimpleModal,{title:t("Heading.LeavingRoblox"),body:r,show:a,actionButtonShow:!0,actionButtonText:t("Action.Continue"),neutralButtonText:t("Action.Cancel"),onAction:function(){var e=decodeURIComponent(M.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),Ne(Ge.goToAmazonStore)},onNeutral:c,onClose:c});return j().createElement("ul",{className:"left-col-list"},u,e,!1,c)}Ke.defaultProps={sponsoredPagesData:[]},Ke.propTypes={sponsoredPagesData:p().instanceOf(Array),translate:p().func.isRequired};var Ve=Ke;function We(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Qe(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?We(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e){var n=N.authenticatedUser.isAuthenticated,t=He((0,L.useState)({}),2),r=t[0],a=t[1],o=(c=He((0,L.useState)({}),2))[0],i=c[1],c=(t=He((0,L.useState)({}),2))[0],u=t[1];return(0,L.useEffect)(function(){var e=function(){},t=function(){};return n&&(e=Ie(function(){ie().then(function(e){e=e.data;a(e)},function(e){console.debug(e)})}),t=Re(function(){re().then(function(e){e=e.data;i(e)})}),ie().then(function(e){e=e.data;a(e)},function(e){console.debug(e)}),re().then(function(e){e=e.data;i(e)},function(e){console.debug(e)}),oe().then(function(e){e=e.data;u(e)},function(e){console.debug(e)})),function(){e(),t()}},[]),j().createElement(Ve,Qe({friendsData:r,messagesData:o,tradeData:c},e))}var O=N.authenticatedUser.name,f=N.authenticatedUser.displayName,Xe={nameForDisplay:null!==M.DisplayNames&&void 0!==M.DisplayNames&&M.DisplayNames.Enabled()?f:O,nameForHeader:null!==M.DisplayNames&&void 0!==M.DisplayNames&&M.DisplayNames.Enabled()?D.concatTexts.concat(["",O]):O};function Ye(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function tt(e){var t=e.isLeftNavOpen,n=et(e,["isLeftNavOpen"]),r=Je((0,L.useState)(!1),2),e=r[0],a=r[1],o=(0,L.useRef)(null);(0,L.useEffect)(function(){(function(){var c,e=(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:return e.prev=4,e.next=7,(0,E.robloxBadgesReadyForRender)();case 7:e.sent&&a((0,E.currentUserHasVerifiedBadge)()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),a(!1);case 14:case"end":return e.stop()}},e,null,[[4,11]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Ye(r,t,n,a,o,"next",e)}function o(e){Ye(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()().catch(function(){})},[t,o]);r=e&&E.VerifiedBadgeIconContainer?j().createElement("section",{ref:function(e){o.current=e}},j().createElement(E.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:E.BadgeSizes.CAPTIONHEADER})):null,t=g()("rbx-left-col",{"nav-show":t}),e=g()("font-header-2 dynamic-ellipsis-item",{"verified-badge-left-nav":e});return j().createElement("div",{id:"navigation",className:t},j().createElement("ul",null,j().createElement("li",{key:"username"},j().createElement(h.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:_.scrollListItems.profile.url},j().createElement("span",{className:"avatar avatar-headshot-xs"},j().createElement(S.Thumbnail2d,{containerClass:"avatar-card-image",targetId:N.authenticatedUser.id,type:S.ThumbnailTypes.avatarHeadshot,altName:N.authenticatedUser.name})),j().createElement("div",{className:e},Xe.nameForDisplay),r)),j().createElement("li",{key:"divider",className:"rbx-divider"})),j().createElement(h.ScrollBar,{className:"rbx-scrollbar"},j().createElement($e,n)))}tt.propTypes={isLeftNavOpen:p().bool.isRequired};var nt=tt;function rt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function at(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):rt(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ct,ut=s,lt=(0,q.withTranslations)(function(e){var t=N.authenticatedUser.isAuthenticated,n=ot((0,L.useState)(!1),2),r=n[0],a=n[1],o=(0,L.useCallback)(function(){a(!r)},[r]);return(0,L.useEffect)(function(){return document.addEventListener(ut.name,o),function(){document.removeEventListener(ut.name,o)}},[o]),t?j().createElement(nt,at({isLeftNavOpen:r},e)):null},m),st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},dt=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},mt=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ft=D.httpService.createCancelToken();function pt(e){return void 0===(null==e?void 0:e.label)}function vt(e){return void 0!==(null==e?void 0:e.Query)}function bt(e){if(vt(e))return"avatar";switch(e.type){case ct.QuerySuggestion:return"keyword";case ct.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function yt(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Heading.Marketplace":case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(c=ct=ct||{})[c.GameSuggestion=0]="GameSuggestion",c[c.QuerySuggestion=1]="QuerySuggestion",c[c.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var ht=function(t){return dt(void 0,void 0,Promise,function(){return mt(this,function(e){switch(e.label){case 0:return ft.cancel(),ft=D.httpService.createCancelToken(),[4,D.httpService.get(st(st({},F.getSuggestionUrl),{url:F.getSuggestionUrl.url+encodeURIComponent(t.toLowerCase()),cancelToken:ft.token}))];case 1:return[2,e.sent().data]}})})},gt=function(n,r,a,o,i){return void 0===i&&(i=!1),dt(void 0,void 0,Promise,function(){var t;return mt(this,function(e){switch(e.label){case 0:return null===(t=r)&&(t=F.englishLanguageCode),t={prefix:n.toLowerCase(),limit:a,lang:t,q:o},ft.cancel(),ft=D.httpService.createCancelToken(),i?[4,D.httpService.get(st(st({},F.avatarRequestSuggestionUrl),{timeout:F.expiryTimeout,cancelToken:ft.token,fullError:!0}),t)]:[3,2];case 1:return[2,e.sent().data];case 2:return[4,D.httpService.get(st(st({},F.avatarRequestSuggestionCdnUrl),{timeout:F.expiryTimeout,cancelToken:ft.token,fullError:!0}),t)];case 3:return[2,e.sent().data]}})})},St=pt,Et=vt,wt=bt,Ct=yt,At=function(e,t){var n;return pt(e)&&vt(e)?_.avatarSearchLink.url+encodeURIComponent(e.Query):pt(e)?_.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""},xt=function(){var e=(new M.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==F.englishLanguageCode&&(e+=",".concat(F.englishLanguageCode)),e},Ot=function(e,t){return e.map(function(e){return pt(e)?"".concat(bt(e),"|").concat(e.searchQuery):"".concat(yt(e),"|").concat(t)}).join(",")},Nt=me.eventStreamService.eventTypes,It="searchAutocomplete",Rt={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:D.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:Nt.formInteraction,context:It},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:Nt.formInteraction,context:It},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:Nt.formInteraction,context:It},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,u,l){return[{name:"searchAutocomplete",type:Nt.formInteraction,context:It},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:u,isPersonalizedBasedOnPreviousQuery:l}]},search:function(e,t,n){return[{name:"search",type:Nt.formInteraction,context:It},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:Nt.formInteraction,context:It},{autocompleteFlag:e,previousPage:t}]}};function Tt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e){var o=e.translate,i=e.searchInput,c=e.indexOfSelectedOption,u=e.autocompleteSessionInfo,l=e.resetAutocompleteSessionInfo,s=ke();return j().createElement(j().Fragment,null,Object.entries(s).map(function(e){var t=kt(e,2),n=t[0],r=t[1],a=r.url,e=r.label,t=g()("navbar-search-option rbx-clickable-li",parseInt(n,10)===c?" selected":"");return j().createElement("li",{key:n,className:t},j().createElement(h.Link,{className:"navbar-search-anchor",url:a+i,onClick:function(){me.eventStreamService.sendEvent.apply(me.eventStreamService,Tt(Rt.searchSuggestionClicked(i,void 0,n,i,Ct(r),Ot(s,i),u))),l()}},o("Label.sSearchPhrase",{phrase:i,location:o(e)})))}))}Lt.propTypes={translate:p().func.isRequired,searchInput:p().string.isRequired,indexOfSelectedOption:p().number.isRequired,autocompleteSessionInfo:p().string.isRequired,resetAutocompleteSessionInfo:p().func.isRequired};var jt=Lt;function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qt=_.gameSearchLink,Bt=_.avatarSearchLink,Ft=_.creatorMarketplaceUrl;function _t(e){var t=e.translate,n=e.selected,r=e.suggestion,a=e.onClick,o=g()("navbar-search-option rbx-clickable-li",{"new-selected":n}),i=r.type,c=r.universeId,e=r.searchQuery,n=Dt((0,L.useState)(!1),2),r=n[0],u=n[1];return i===ct.GameSuggestion?j().createElement("li",{className:o},j().createElement(h.Link,{className:"new-navbar-search-anchor",url:qt.url+encodeURIComponent(e),onClick:a},j().createElement("span",{className:g()(qt.icon,"navbar-list-option-icon")}),j().createElement("span",{className:"navbar-list-option-text"},e),j().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(qt.label)})),j().createElement("span",{className:g()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":r})},j().createElement("span",{className:"background-icon"}),j().createElement(S.Thumbnail2d,{type:S.ThumbnailTypes.gameIcon,size:S.DefaultThumbnailSize,targetId:c,containerClass:"thumbnail-icon",format:S.ThumbnailFormat.jpeg,onLoad:function(){u(!0)}})))):j().createElement("li",{className:o},j().createElement(h.Link,{className:"new-navbar-search-anchor",url:qt.url+encodeURIComponent(e),onClick:a},j().createElement("span",{className:g()(qt.icon,"navbar-list-option-icon")}),j().createElement("span",{className:"navbar-list-option-text"},e),j().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(qt.label)}))))}function Gt(e){var t=e.translate,n=e.selected,r=e.suggestion,e=e.onClick,n=g()("navbar-search-option rbx-clickable-li",{"new-selected":n}),r=r.Query;return j().createElement("li",{className:n},j().createElement(h.Link,{className:"new-navbar-search-anchor",url:Bt.url+encodeURIComponent(r),onClick:e},j().createElement("span",{className:g()(Bt.icon,"navbar-list-option-icon")}),j().createElement("span",{className:"navbar-list-option-text"},r),j().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(Bt.label)}))))}function Kt(e){var t=e.translate,n=e.selected,r=e.searchInput,a=e.suggestion,o=e.onClick,i=a.url,e=a.label,a=a.icon,i=(0,F.isRedirectLibraryToCreatorMarketplaceEnabled)()&&"Label.CreatorMarketplace"===e?Ft:i,n=g()("navbar-search-option rbx-clickable-li",{"new-selected":n});return j().createElement("li",{className:n},j().createElement(h.Link,{className:"new-navbar-search-anchor",url:i+encodeURIComponent(r),onClick:o},j().createElement("span",{className:g()(a,"navbar-list-option-icon")}),j().createElement("span",{className:"navbar-list-option-text"},r.toLowerCase()),j().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(e)}))))}function Vt(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e){function r(t,n){return function(){var e=c[n];me.eventStreamService.sendEvent.apply(me.eventStreamService,Vt(Rt.searchSuggestionClicked(o,void 0,n,St(e)?e.searchQuery:o,t,Ot(c,o),u))),l();e=t.includes("default")?0:1;me.eventStreamService.sendEvent.apply(me.eventStreamService,Vt(Rt.catalogSearch(e,D.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,u=e.autocompleteSessionInfo,l=e.resetAutocompleteSessionInfo;return c.map(function(e,t){var n=parseInt(t,10)===i;return St(e)&&Et(e)?j().createElement(Gt,{key:e.Query,translate:a,selected:n,suggestion:e,onClick:r(wt(e),t)}):St(e)?j().createElement(_t,{key:e.searchQuery,translate:a,selected:n,suggestion:e,onClick:r(wt(e),t)}):j().createElement(Kt,{key:e.url,translate:a,selected:n,suggestion:e,searchInput:o,onClick:r(Ct(e),t)})})}_t.propTypes={translate:p().func.isRequired,selected:p().bool.isRequired,suggestion:p().shape({type:p().number.isRequired,score:p().number.isRequired,universeId:p().number,canonicalTitle:p().string,thumbnailUrl:p().string,searchQuery:p().string.isRequired,trendingSearchStartDateTime:p().string}).isRequired,onClick:p().func.isRequired},Gt.propTypes={translate:p().func.isRequired,selected:p().bool.isRequired,suggestion:p().shape({Query:p().string}).isRequired,onClick:p().func.isRequired},Kt.propTypes={translate:p().func.isRequired,selected:p().bool.isRequired,searchInput:p().string.isRequired,suggestion:p().shape({url:p().string.isRequired,label:p().string.isRequired,pageSort:p().arrayOf(p().string).isRequired,icon:p().string.isRequired}).isRequired,onClick:p().func.isRequired},Qt.propTypes={translate:p().func.isRequired,searchInput:p().string.isRequired,indexOfSelectedOption:p().number.isRequired,searchSuggestions:p().arrayOf(p().oneOfType([p().shape({type:p().number.isRequired,score:p().number.isRequired,universeId:p().number.isRequired,canonicalTitle:p().string,thumbnailUrl:p().string,searchQuery:p().string.isRequired,trendingSearchStartDateTime:p().string}),p().shape({url:p().string.isRequired,label:p().string.isRequired,pageSort:p().arrayOf(p().string).isRequired,icon:p().string.isRequired}),p().shape({Query:p().string.isRequired,Score:p().number.isRequired})])).isRequired,autocompleteSessionInfo:p().string.isRequired,resetAutocompleteSessionInfo:p().func.isRequired};var Ht=Qt;function zt(e){return function(e){if(Array.isArray(e))return $t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e){var t=e.translate,n=e.searchInput,r=e.isMenuOpen,a=e.openMenu,o=e.closeMenu,i=e.handleSearch,c=e.setIsMenuHover,u=e.indexOfSelectedOption,l=e.onSubmit,s=e.onKeyDown,d=e.onKeyUp,m=e.isUniverseSearchShown,f=e.searchSuggestions,p=e.autocompleteSessionInfo,v=e.resetAutocompleteSessionInfo,b=e.isAvatarAutocompleteEnabled,y=(0,L.createRef)(),h=(0,L.createRef)(),e=function(){var e;me.eventStreamService.sendEvent.apply(me.eventStreamService,zt(Rt.searchClear(n,void 0,p,null===D.pageName||void 0===D.pageName||null===(e=D.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==y||null!==(e=y.current)&&void 0!==e&&e.focus(),i({target:{value:""}})},m=g()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":r,shown:m}),b=F.isAutocompleteSuggestionsIXPTestEnabled()||b;return(0,q.useOnClickOutside)([y,h],o),j().createElement("div",{"data-testid":"navigation-search-input",className:m,role:"search"},j().createElement("div",{className:"input-group"},j().createElement("form",{name:"search-form",onSubmit:l,action:"/search"},b?j().createElement("div",{className:"form-has-feedback"},j().createElement("input",{ref:y,id:"navbar-search-input",type:"search",name:"search-bar","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:n,onChange:i,placeholder:t("Label.sSearch"),maxLength:"120",onFocus:a,onKeyDown:s,onKeyUp:d,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<n.length&&j().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:e,onKeyDown:e,className:"clear-search icon-actions-clear-sm"},j().createElement("span",null))):j().createElement("input",{ref:y,id:"navbar-search-input",type:"search",name:"search-bar","data-testid":"navigation-search-input-field",className:"form-control input-field",value:n,onChange:i,placeholder:t("Label.sSearch"),maxLength:"120",onFocus:a,onKeyDown:s,onKeyUp:d,autoComplete:"off"})),j().createElement("div",{className:"input-group-btn"},j().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},j().createElement("span",{className:"icon-common-search-sm"})))),j().createElement("ul",{ref:h,className:g()("dropdown-menu",{"new-dropdown-menu":b}),role:"menu",onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},b?j().createElement(Ht,{translate:t,searchInput:n,indexOfSelectedOption:u,searchSuggestions:f,autocompleteSessionInfo:p,resetAutocompleteSessionInfo:v}):j().createElement(jt,{translate:t,searchInput:n,indexOfSelectedOption:u,autocompleteSessionInfo:p,resetAutocompleteSessionInfo:v})))}Xt.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},Xt.propTypes={translate:p().func.isRequired,searchInput:p().string.isRequired,isMenuOpen:p().bool.isRequired,openMenu:p().func.isRequired,closeMenu:p().func.isRequired,handleSearch:p().func.isRequired,setIsMenuHover:p().func.isRequired,indexOfSelectedOption:p().number.isRequired,onSubmit:p().func.isRequired,onKeyDown:p().func.isRequired,onKeyUp:p().func.isRequired,isUniverseSearchShown:p().bool,isAvatarAutocompleteEnabled:p().bool,searchSuggestions:p().arrayOf(p().oneOfType([p().shape({type:p().number.isRequired,score:p().number.isRequired,universeId:p().number.isRequired,canonicalTitle:p().string,thumbnailUrl:p().string,searchQuery:p().string.isRequired,trendingSearchStartDateTime:p().string}),p().shape({url:p().string.isRequired,label:p().string.isRequired,pageSort:p().arrayOf(p().string).isRequired,icon:p().string}),p().shape({query:p().string.isRequired,score:p().number.isRequired})])).isRequired,autocompleteSessionInfo:p().string.isRequired,resetAutocompleteSessionInfo:p().func.isRequired};var Yt=Xt;function Jt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Zt(e){return function(e){if(Array.isArray(e))return nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e){var t=e.translate,n=e.isUniverseSearchShown,r=en((0,L.useState)(je(window.location.search).keyword||""),2),o=r[0],a=r[1],i=(0,q.useDebounce)(o,F.debounceTimeout),u=(0,q.usePrevious)(i),e=en((0,L.useState)(null),2),c=e[0],l=e[1],r=en((0,L.useState)(Rt.generateSessionInfo()),2),s=r[0],d=r[1],e=en((0,L.useState)(!1),2),m=e[0],f=e[1],r=en((0,L.useState)(!0),2),p=r[0],v=r[1],e=en((0,L.useState)(!1),2),b=e[0],r=e[1],e=en((0,L.useState)(0),2),y=e[0],h=e[1],e=en((0,L.useState)(!1),2),g=e[0],S=e[1],e=en((0,L.useState)(!1),2),E=e[0],w=e[1],C=B,e=en((0,L.useState)((F.isAutocompleteSuggestionsIXPTestEnabled()?Pe:ke)()),2),A=e[0],x=e[1],O=A.findIndex(function(e){return e.label===_.gameSearchLink.label}),N=Pe().findIndex(function(e){return e.label===_.avatarSearchLink.label}),I=xt();(0,L.useEffect)(function(){M.ExperimentationService&&M.ExperimentationService.getAllValuesForLayer(F.experimentLayer).then(function(e){e.ixpDisableGamesAutocomplete&&S(!0)})},[]);function R(e){if(e){if(T){var t=-1===c.findIndex(function(e){return e.searchQuery===i.toLowerCase()&&Et(e)}),n=e.filter(function(e){return e.searchQuery!==i.toLowerCase()||Et(e)});return[].concat(Zt(A.slice(0,t?N+1:N)),Zt(n),Zt(A.slice(N+1)))}if(F.isSpecialTreatmentAutocompleteRestricted())return A;n=-1===e.findIndex(function(e){return e.searchQuery===i.toLowerCase()&&e.type===ct.GameSuggestion}),e=e.filter(function(e){return e.searchQuery!==i.toLowerCase()||e.type===ct.GameSuggestion}).slice(0,F.isSpecialTreatment()?F.numberOfSpecialTreatmentAutocompleteSuggestions:F.numberOfAutocompleteSuggestions());return[].concat(Zt(A.slice(0,n?O+1:O)),Zt(e),Zt(A.slice(O+1)))}return A}var T=Ue(),k=(0,L.useMemo)(function(){return R(c)},[c,A]),P=k.length;(0,L.useEffect)(function(){p||me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.search(o,Rt.actionTypes.submit,s))),v(!1);var e=function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t,n,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==i&&i.length<=F.debouncedSearchInputMaxLength)){e.next=34;break}if(l(null),t=Date.now(),T)return e.prev=4,n=Date.now(),e.next=8,gt(i,I,F.avatarAutocompleteQueryPaddingAmount,u,E);e.next=20;break;case 8:a=e.sent,o=function(e,t){var n=0,r=[];return e.forEach(function(e){n<F.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)}),r}(a.Data,i),me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.searchAutocomplete(i,u,!1,o,a.Args.Algo,n-t,F.debounceTimeout,"",D.pageName.PageNameProvider.getInternalPageName(),""!==u))),l(o),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),D.httpService.isCancelled(e.t0)||l([]),w(!0);case 18:e.next=34;break;case 20:if(F.isAutocompleteSuggestionsIXPTestEnabled()&&!g)return e.prev=21,e.next=24,ht(i);e.next=34;break;case 24:r=e.sent,a=Date.now(),o=R(r.entries),me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.searchAutocomplete(i,u,!1,Ot(o,i),r.algorithmName,a-t,F.debounceTimeout,s,D.pageName.PageNameProvider.getInternalPageName(),!1))),l(r.entries),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),D.httpService.isCancelled(e.t1)||l([]);case 34:case"end":return e.stop()}},e,null,[[4,14],[21,31]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Jt(r,t,n,a,o,"next",e)}function o(e){Jt(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();T&&x(Pe()),e()},[i]);function U(){d(Rt.generateSessionInfo())}return j().createElement(Yt,{searchInput:o,handleSearch:function(e){e=e.target.value;e.length<o.length&&me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.searchTextTrim(o,e,void 0,s))),0===e.length&&U(),h(0),f(0<e.length),a(e)},openMenu:function(){var e=Rt.generateSessionInfo();me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.search(o,Rt.actionTypes.open,e))),d(e),0===o.length||b||f(!0)},closeMenu:function(){m&&(me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.search(o,Rt.actionTypes.close,s))),f(!1))},setIsMenuHover:r,isMenuOpen:m,indexOfSelectedOption:y,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=y;!m||e.keyCode!==C.arrowUp&&e.keyCode!==C.arrowDown&&e.keyCode!==C.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===C.arrowUp?--t:t+=1,(t%=P)<0&&(t=P+t),h(t))},onKeyUp:function(e){var t,n,r,a;e.keyCode===C.enter&&(e.stopPropagation(),e.preventDefault(),t=k[y],St(t)?(me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.searchSuggestionClicked(i,void 0,y,t.searchQuery,wt(t),Ot(k,o),s))),me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.catalogSearch(1,D.pageName.PageNameProvider.getInternalPageName())))):(me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.searchSuggestionClicked(i,void 0,y,i,Ct(t),Ot(k,o),s))),me.eventStreamService.sendEvent.apply(me.eventStreamService,Zt(Rt.catalogSearch(0,D.pageName.PageNameProvider.getInternalPageName())))),U(),(a=At(t,e))&&(n=F.isRedirectLibraryToCreatorMarketplaceEnabled,a=a,"Label.CreatorMarketplace"===t.label&&n()&&(a=_.creatorMarketplaceUrl,null!=e&&null!==(r=e.target)&&void 0!==r&&r.value&&(a+=encodeURIComponent(e.target.value))),window.location=a))},isUniverseSearchShown:n,translate:t,searchSuggestions:k,autocompleteSessionInfo:s,resetAutocompleteSessionInfo:U,isAvatarAutocompleteEnabled:T})}rn.defaultProps={isUniverseSearchShown:!0},rn.propTypes={translate:p().func.isRequired,isUniverseSearchShown:p().bool};var an=(0,q.withTranslations)(rn,m),c=angular,on=ao.n(c);function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=dn(n);return e=r?(e=dn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==cn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(a,j().Component);var e,t,n,r=sn(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(t=[{key:"componentDidMount",value:function(){try{on().module("notificationStreamIcon"),on().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this;return j().createElement("span",{ref:function(e){t.container=e},className:"nav-robux-icon rbx-menu-item"},j().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&un(e.prototype,t),n&&un(e,n),a}();function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=yn(n);return e=r?(e=yn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==fn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(a,j().Component);var e,t,n,r=bn(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(t=[{key:"componentDidMount",value:function(){try{on().module("notificationStream"),on().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this,e=Le(),e=g()("notification-stream-base",e);return j().createElement("div",{ref:function(e){t.container=e},className:e,"notification-stream-base-view":"true"})}}])&&pn(e.prototype,t),n&&pn(e,n),a}(),gn={name:"nsCloseContent",context:"click",additionalProperties:{}};function Sn(){var e=(0,L.useRef)();return j().createElement("li",{id:"navbar-stream",ref:e,className:"navbar-icon-item navbar-stream notification-margins"},j().createElement(h.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:j().createElement("button",{type:"button",className:"btn-uiblox-common-common-notification-bell-md"},j().createElement(mn,null)),container:e.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),me.eventStreamService.sendEventWithTarget(gn.name,gn.context,gn.additionalProperties)},role:"menu"},j().createElement(hn,null)))}Sn.propTypes={};var En=Sn;function wn(e){var t=e.accountNotificationCount,e=g()("notification-red notification nav-setting-highlight",{hidden:0===t});return j().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},j().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),j().createElement("span",{className:e},t))}wn.defaultProps={accountNotificationCount:0},wn.propTypes={accountNotificationCount:p().number};var Cn=wn,An={schematizedEventTypes:{authButtonClick:"authButtonClick",authPageLoad:"authPageLoad"},context:{homepage:"homepage",accountSwitcherStatus:"accountSwitcherStatus"},btn:{logout:"logout",switchAccount:"switchAccount"}};function xn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function On(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){xn(r,t,n,a,o,"next",e)}function o(e){xn(r,t,n,a,o,"throw",e)}a(void 0)})}}function Nn(){var e=Rn("returnUrl")||window.location.href;return e=e===Pn()||e===jn()?"":e}function In(){return ue().then(On(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}},e)})))}var Rn=D.urlService.getQueryParam,Tn=D.urlService.composeQueryString,kn=x,Pn=H,Un=A,Ln=w,jn=v,Dn=o,c=function(e){var t,n,e=0<arguments.length&&void 0!==e&&e;return n=N.authenticatedUser.isAuthenticated&&e?(t=Nn(),jn()):(t=(n=(t=Rn("returnUrl")||window.location.href).toLowerCase()).startsWith(Pn().toLowerCase())||n.startsWith(Un().toLowerCase())?"":t,kn()),"".concat(n,"?").concat(Tn({returnUrl:t}))},x=function(){var e=null!==M.AccountSwitcherService&&void 0!==M.AccountSwitcherService&&M.AccountSwitcherService.isAccountSwitcherAvailable()?Nn():Rn("returnUrl")||window.location.href,t=Pn();return"".concat(t,"?").concat(Tn({returnUrl:e}))},A=function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(Dn.name)),me.eventStreamService.sendEventWithTarget(An.schematizedEventTypes.authButtonClick,An.context.homepage,{btn:An.btn.logout}),on().isUndefined(on().element("#chat-container").scope())||(e=on().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==M.EmailVerificationService&&void 0!==M.EmailVerificationService&&M.EmailVerificationService.handleUserEmailUpsellAtLogout(In).then(function(e){e&&!e.emailAddress||In()})},w=In,v=function(){var e=(null===(e=window)||void 0===e?void 0:e.location).pathname,e=null!==(e=null==e?void 0:e.toLowerCase())&&void 0!==e?e:"";return!e.startsWith("/login")&&!e.startsWith("/newlogin")},o=function(e){e.stopPropagation(),e.preventDefault(),e=window.location.href,me.eventStreamService.sendEventWithTarget(An.schematizedEventTypes.authButtonClick,An.context.homepage,{btn:An.btn.switchAccount,state:e.toString()}),on().isUndefined(on().element("#chat-container").scope())||(e=on().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie"));var t={containerId:"navigation-account-switcher-container",onAccountSwitched:function(){me.localStorageService.setLocalStorage(T.accountSwitchedFlag,!0),window.location.href=Ln()},handleAddAccount:function(){window.location.href=H()}};(function(){var e=On(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===M.AccountSwitcherService||void 0===M.AccountSwitcherService?void 0:M.AccountSwitcherService.isAccountSwitcherAvailable();case 2:if(!e.sent){e.next=4;break}null===M.AccountSwitcherService||void 0===M.AccountSwitcherService||M.AccountSwitcherService.renderAccountSwitcher(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},Mn=_.settingsUrl,qn=_.quickLoginUrl,Bn=A,Fn=o,_n=d.quickLogin,Gn=d.settings,Kn=d.logout,Vn=d.switchAccountKey;function Wn(e){var r=e.translate,t=e.accountNotificationCount,a=void 0===t?0:t,o=void 0!==(e=e.isCrossDeviceLoginCodeValidationDisplayed)&&e,i=g()("notification-blue notification nav-setting-highlight",{hidden:0===a}),c=(null!==(e=null===M.AccountSwitcherService||void 0===M.AccountSwitcherService?void 0:M.AccountSwitcherService.useIsAccountSwitcherAvailableForBrowser())&&void 0!==e?e:[!1])[0],e=Object.entries(Mn).filter(function(e){e[0];e=e[1];return!("isVisibleFn"in e)||e.isVisibleFn()}).map(function(e){var t=e[0],n=e[1],e=n.url,n=n.label;return j().createElement("li",{key:t},t===Kn&&j().createElement(h.Link,{className:"rbx-menu-item logout-menu-item",key:t,onClick:Bn,url:"#"},r(n)),t===Vn&&c&&j().createElement(h.Link,{className:"rbx-menu-item account-switch-menu-item",key:t,onClick:Fn,url:"#"},r(n)),t===_n&&o&&j().createElement(h.Link,{className:"rbx-menu-item",key:t,url:qn},r(n)),t!==Kn&&t!==_n&&t!==Vn&&j().createElement(h.Link,{cssClasses:"rbx-menu-item",key:t,url:e},r(n),t===Gn&&j().createElement("span",{className:i},a)))});return j().createElement(j().Fragment,null,e)}function Qn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e){var t=e.translate,n=e.accountNotificationCount,r=Hn((0,L.useState)(!1),2),e=r[0],a=r[1],r=(0,L.useRef)();return(0,L.useEffect)(function(){var e,t=function(){var c,e=(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===M.AccountSwitcherService||void 0===M.AccountSwitcherService?void 0:M.AccountSwitcherService.syncAccountSwitcherBlobIfNeeded();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("account switching has issues",e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Qn(r,t,n,a,o,"next",e)}function o(e){Qn(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();a(!0),e=!(null===M.AccountSwitcherService||void 0===M.AccountSwitcherService||!M.AccountSwitcherService.getStoredAccountSwitcherBlob()),me.eventStreamService.sendEventWithTarget(An.schematizedEventTypes.authPageLoad,An.context.accountSwitcherStatus,{state:e.toString()}),t()},[]),j().createElement("li",{id:"navbar-settings",ref:r,className:"navbar-icon-item"},j().createElement(h.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:Le(),containerPadding:20,button:j().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},j().createElement(Cn,{accountNotificationCount:n})),container:r.current,role:"menu"},j().createElement("div",{className:Le()},j().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},j().createElement(Wn,{isCrossDeviceLoginCodeValidationDisplayed:e,translate:t,accountNotificationCount:n})))))}$n.defaultProps={accountNotificationCount:0},$n.propTypes={translate:p().func.isRequired,accountNotificationCount:p().number};var Xn=$n;function Yn(e){var t=e.robuxAmount,n=e.isGetCurrencyCallDone,r=e.robuxError,e=e.creditDisplayConfig,t=r?b:D.abbreviateNumber.getTruncValue(t),t=j().createElement(L.Fragment,null,j().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),e!==R.hideCreditAndRobux&&j().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},n&&t));return j().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},r?j().createElement(h.Tooltip,{id:"current-error",content:r,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},t):t)}Yn.defaultProps={robuxAmount:0,robuxError:""},Yn.propTypes={robuxAmount:p().number,robuxError:p().string,isGetCurrencyCallDone:p().bool.isRequired,creditDisplayConfig:p().string.isRequired};var Jn=Yn;function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tr=_.buyRobuxUrl,nr=_.redeemUrl,rr=_.buyGiftCardUrl,ar=new Map,or=new Map;function ir(e){var t=e.translate,n=e.robuxAmount,r=e.robuxError,a=e.creditAmount,o=e.currencyCode,i=e.creditError,c=e.creditDisplayConfig,u=e.openConvertCreditModal,l=e.onBuyGiftCardClicked,s=Zn((0,L.useState)(!0),2),d=s[0],m=s[1],f=Zn((0,L.useState)(!1),2),e=f[0],p=f[1],s=Zn((0,L.useState)(!1),2),f=s[0],v=s[1],r=r?b:D.numberFormat.getNumberFormat(n);return(0,L.useEffect)(function(){n<y.robuxTruncateThreshold&&a<y.creditTruncateThreshold&&c!==R.hideCreditAndRobux&&m(!1)},[n,a,c]),(0,L.useEffect)(function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".dropdown-credit-balance"}}))},[c]),(0,L.useEffect)(function(){0===a?p(!1):ar.has(a)?p(ar.get(a)):se().then(function(e){0<e.data.robuxConversionAmount?(ar.set(a,!0),p(!0)):(ar.set(a,!1),p(!1))})},[a]),(0,L.useEffect)(function(){or.has(rr.cacheKey)?v(or.get(rr.cacheKey)):de().then(function(e){e=e.data;v(e.displayBuyGiftCardOption),or.set(rr.cacheKey,e.displayBuyGiftCardOption)})},[]),j().createElement(L.Fragment,null,j().createElement("div",{className:d?"":"wallet-hidden"},j().createElement("li",{className:"dropdown-wallet"},j().createElement(h.Link,{className:"dropdown-wallet-section"},j().createElement("span",{className:"icon-robux-28x28",id:"nav-robux"}),j().createElement("span",{id:"nav-robux-balance"},r))),c!==R.control&&j().createElement("li",{className:"dropdown-wallet"},j().createElement(h.Link,{className:"dropdown-wallet-section"},j().createElement("span",{className:"icon-menu-wallet"}),i?b:j().createElement("span",{className:"dropdown-credit-balance","data-amount":a,"data-currency-code":o}))),j().createElement("li",{className:"rbx-divider"})),j().createElement("li",null,j().createElement(h.Link,{cssClasses:"rbx-menu-item",url:tr.buyRobux.url,onClick:function(){return e=me.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX,void me.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(me.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,me.paymentFlowAnalyticsService.ENUM_VIEW_NAME.NAVIGATION_DROPDOWN_MENU,me.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,e);var e}},t(tr.buyRobux.label))),f&&j().createElement("li",null,j().createElement("button",{type:"button",cssClasses:"rbx-menu-item",onClick:l},t(rr.label)||"Buy Gift Card")),j().createElement("li",null,j().createElement(h.Link,{cssClasses:"rbx-menu-item",url:tr.myTransactions.url},t(tr.myTransactions.label))),j().createElement("li",null,j().createElement(h.Link,{cssClasses:"rbx-menu-item",url:nr.url},t(nr.label))),c!==R.control&&e&&j().createElement("li",null,j().createElement(h.Link,{cssClasses:"rbx-menu-item",onClick:u},t("Label.ConvertCreditSuccess"))))}ir.defaultProps={robuxAmount:0,robuxError:"",creditAmount:0,currencyCode:"",creditError:""},ir.propTypes={translate:p().func.isRequired,robuxAmount:p().number,robuxError:p().string,creditAmount:p().number,currencyCode:p().string,creditError:p().string,creditDisplayConfig:p().string.isRequired,openConvertCreditModal:p().func.isRequired,onBuyGiftCardClicked:p().func.isRequired};var cr=ir;function ur(e){var t=e.creditAmount,n=e.currencyCode,e=e.creditError,e=j().createElement(L.Fragment,null,j().createElement("span",{className:"icon-menu-wallet roblox-popover-close",id:"nav-credit-icon"}),j().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},e?j().createElement("div",{className:"nav-credit-text"},b):j().createElement("div",{className:"credit-balance","data-amount":t,"data-currency-code":n})));return(0,L.useEffect)(function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".credit-balance",tagClassName:"navbar-compact nav-credit-text"}}))},[t,n]),j().createElement(L.Fragment,null,j().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item nav-credit"},e))}ur.defaultProps={creditAmount:0,creditError:"",currencyCode:"USD"},ur.propTypes={creditAmount:p().number,creditError:p().string,currencyCode:p().string};var lr=ur;function sr(e){var t=e.translate,n=e.isShopModalOpen,r=e.closeShopModal,a=e.onModalContinue,e=j().createElement(j().Fragment,null,j().createElement("p",{className:"shop-description"},t("Description.RetailWebsiteRedirect")),j().createElement("p",{className:"shop-warning"},t("Description.PurchaseAgeWarning")));return j().createElement(h.SimpleModal,{title:t("Heading.LeavingRoblox"),body:e,show:n,actionButtonShow:!0,actionButtonText:t("Action.Continue"),neutralButtonText:t("Action.Cancel"),onAction:a,onNeutral:r,onClose:r})}sr.propTypes={translate:p().func.isRequired,isShopModalOpen:p().bool.isRequired,closeShopModal:p().func.isRequired,onModalContinue:p().func.isRequired};var dr=(0,q.withTranslations)(sr,m);function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pr=_.buyGiftCardUrl;function vr(e){function t(e){me.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(me.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,me.paymentFlowAnalyticsService.ENUM_VIEW_NAME.NAVIGATION_DROPDOWN_MENU,me.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,e)}var n=e.translate,r=e.robuxAmount,a=e.isGetCurrencyCallDone,o=e.robuxError,i=e.creditAmount,c=e.currencyCode,u=e.creditError,l=e.creditDisplayConfig,s=e.isExperimentCallDone,d=e.openConvertCreditModal,m=(0,L.useRef)(),f=mr((0,L.useState)(!1),2),e=f[0],p=f[1];return j().createElement("li",{id:"navbar-robux",ref:m,className:g()("navbar-icon-item",{"robux-popover-margins":l===R.hideCreditAndRobux})},j().createElement(dr,{isShopModalOpen:e,closeShopModal:function(){p(!1)},onModalContinue:function(){t(me.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CONTINUE_TO_CASHSTAR);var e=decodeURIComponent(pr.url);window.open(e,"_blank")}}),s&&j().createElement(h.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:j().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},j().createElement(Jn,{robuxAmount:r,isGetCurrencyCallDone:a,robuxError:o,creditDisplayConfig:l}),l===R.showCreditAndRobux&&j().createElement(lr,{creditAmount:i,currencyCode:c,creditError:u})),role:"menu",container:m.current},j().createElement("div",{className:Le()},j().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},j().createElement(cr,{translate:n,robuxAmount:r,robuxError:o,creditAmount:i,currencyCode:c,creditError:u,creditDisplayConfig:l,openConvertCreditModal:d,onBuyGiftCardClicked:function(){t(me.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_GIFT_CARD),p(!0)}})))))}vr.defaultProps={robuxAmount:0,robuxError:"",creditAmount:0,creditError:"",currencyCode:"USD",creditDisplayConfig:R.control,isExperimentCallDone:!1},vr.propTypes={translate:p().func.isRequired,robuxAmount:p().number,robuxError:p().string,isGetCurrencyCallDone:p().bool.isRequired,creditAmount:p().number,currencyCode:p().string,creditError:p().string,creditDisplayConfig:p().string,isExperimentCallDone:p().bool,openConvertCreditModal:p().func.isRequired};var br=vr;function yr(e){e=e.toggleUniverseSearch;return j().createElement("li",{className:"rbx-navbar-right-search"},j().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},j().createElement("span",{className:"icon-nav-search-white"})))}yr.propTypes={toggleUniverseSearch:p().func.isRequired};var hr=yr,gr=RobloxPresence;function Sr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e){var t=e.translate,n=(0,L.useRef)(null),r=N.authenticatedUser.isUnder13,a=(0,E.currentUserHasVerifiedBadge)()&&E.VerifiedBadgeIconContainer?j().createElement("section",{ref:function(e){n.current=e}},j().createElement(E.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:E.BadgeSizes.CAPTIONHEADER})):null,o=Er((0,L.useState)(!1),2),e=o[0],i=o[1];return(0,L.useEffect)(function(){function e(){var c;return c=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,M.ExperimentationService.getAllValuesForLayer("Social.Friends");case 4:t=e.sent,i(null!==(t=t.invisibleModeAllowed)&&void 0!==t&&t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}),(e=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Sr(r,t,n,a,o,"next",e)}function o(e){Sr(r,t,n,a,o,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),j().createElement("div",{className:"age-bracket-label text-header"},j().createElement(h.Link,{className:"text-link dynamic-overflow-container",url:_.scrollListItems.profile.url},j().createElement("span",{className:"avatar avatar-headshot-xs"},j().createElement(S.Thumbnail2d,{containerClass:"avatar-card-image",targetId:N.authenticatedUser.id,type:S.ThumbnailTypes.avatarHeadshot,altName:N.authenticatedUser.name}),e&&M.CurrentUser.userId&&j().createElement(gr.PresenceStatusIcon,{translate:t,className:"avatar-status",userId:Number.parseInt(M.CurrentUser.userId,10)})),j().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},Xe.nameForDisplay),a),j().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},r?"<13":"13+"))}function Ar(){return aa(void 0,void 0,Promise,function(){var t;return oa(this,function(e){return t={withCredentials:!0,url:M.EnvironmentUrls.apiGatewayUrl+"/credit-balance/v1/get-next-purchasable-metadata"},[2,D.httpService.get(t)]})})}function xr(r){return aa(void 0,void 0,Promise,function(){var t,n;return oa(this,function(e){return t={paymentProviderType:"Credit",providerPayload:{product_id:0===r||null==r?void 0:r}},n={withCredentials:!0,url:M.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/process-payment"},[2,D.httpService.post(n,t)]})})}Cr.propTypes={translate:p().func.isRequired};var Or=Cr,Nr=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},Ir="Label.AvailableCreditWithColon",Rr="Label.BalanceDue",Tr="Label.CreditAfterTransaction",kr="Action.Buy",Pr="Action.Cancel",Ur="Action.ConvertToRobux",Lr="Label.ConvertCreditSuccess",jr="Heading.BuyRobuxWithCredit",Dr="Message.Step1LargestAvailablePackageYouCanBuy",Mr="Message.Step2NextLargestPackage",qr="Message.Step3ConvertRobux",Br="Message.ConvertCreditToRobux",Fr="Alert.RobuxPackagePurchased",_r="Alert.RobuxPackagePurchaseFailed",Gr="Alert.SuccessfullyConvertedCreditToRobux",Kr="Heading.CreditConversionFail",Vr="Alert.GenericFailure",Wr="NewCreditConversionGetNextPurchasableFailedStatusCode",Qr="NewCreditConversionGetNextPurchasableCreditBalanceZero",Hr="NewCreditConversionGetNextPurchasableUnexpectedException",zr="NewCreditConversionGetNextPurchasableConversion",$r="NewCreditConversionGetNextPurchasableProductPurchase",Xr="ProcessPaymentRequestFailedStatusCode",Yr="ProcessPaymentNextStep",Jr="ProcessPaymentNotSuccessful",Zr="ProcessPaymentNotSuccessful",ea="ProcessPaymentUnexpectedException",ta="ConversionCancelClicked",na="ProductPurchaseCancelClicked",ra={common:["CommonUI.Controls","CommonUI.Features"],feature:"Purchasing.RedeemGameCard"},aa=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},oa=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ia="ar-",ca="en-",ua=["JPY"],la={PRICE_DATA_NOT_VALID:(d="PriceTag")+"DataNotValid",NUMBER_FORMAT_LOCALE_EXCEPTION:d+"NumberFormatLocaleException",ARABIC_LOCALE_TRIGGERED:d+"ArabicLocale"};function sa(e){var t=e.amount,n=e.currencyCode,r=e.tagClassName,e=t<0,a=Math.abs(t),o=""+a+n,i=g()("price-tag",r);try{var c=(u=Intl.NumberFormat().resolvedOptions().locale).startsWith(ia)?((0,Nr.fireEvent)(la.ARABIC_LOCALE_TRIGGERED),u.replace(ia,ca)):u,u={style:"currency",currency:n,notation:"standard"};1e4<=a&&!ua.includes(n)&&(u.minimumFractionDigits=0,u.maximumFractionDigits=2,u.maximumSignificantDigits=21,u.notation="compact"),i.split(" ").includes("navbar-compact")&&(u.maximumSignificantDigits=4),o=Intl.NumberFormat(c,u).format(a)}catch(e){(0,Nr.fireEvent)(la.NUMBER_FORMAT_LOCALE_EXCEPTION)}return j().createElement("div",{className:"d-flex-inline gap-1 justify-content-start align-items-center"},e&&j().createElement("span",{className:i},"-"),j().createElement("span",{className:i},o))}sa.propTypes={amount:p().number.isRequired,currencyCode:p().string.isRequired};var da,ma,fa=sa,pa=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},va=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ba=(d=(o=(0,h.createModal)(),da=o[0],[function(e){var t=e.availableBalance,n=e.totalBalanceDue,r=e.currencyCode,a=e.numberOfPurchase,o=e.robuxAmountInPackage,i=e.loading,c=e.onNeutral,u=e.onPurchase,e=e.translate;return j().createElement(da,{id:"purchase-product-modal",title:e(jr),body:j().createElement("div",{className:"d-flex justify-content-center flex-direction-column text-center"},j().createElement("div",{className:"purchase-prompt"},1===a?e(Dr)||"Largest package you can buy with your available credit:":e(Mr)),j().createElement("div",{className:"purchase-logo"},j().createElement("div",{className:g()("robux-product-logo","margin-auto","robux-graphic","robux-"+o)}),j().createElement("div",null,j().createElement("span",{className:"icon-robux-16x16"}),j().createElement("span",{className:"text-robux"},o))),j().createElement("div",{className:"purchase-summary d-flex flex-direction-column text-left"},j().createElement("div",{className:"available-credit d-flex justify-content-between"},j().createElement("span",null,e(Ir)),j().createElement(fa,{amount:t,currencyCode:r})),j().createElement("div",{className:"balance-due d-flex justify-content-between"},j().createElement("span",null,e(Rr)),j().createElement(fa,{amount:-1*n,currencyCode:r})),j().createElement("div",{className:"rbx-divider"}),j().createElement("div",{className:"credit-after-transaction d-flex justify-content-between"},j().createElement("span",null,e(Tr)),j().createElement(fa,{amount:t-n,currencyCode:r})))),neutralButtonText:e(Pr),actionButtonText:e(kr),onNeutral:c,onAction:u,loading:i,actionButtonShow:!0})},o[1]]))[0],ya=d[1],ha=(d=(o=(0,h.createModal)(),ma=o[0],[function(e){var t=e.remainingCreditBalance,n=e.currencyCode,r=e.robuxConversionAmount,a=e.loading,o=e.numberOfPurchase,i=e.onConvert,c=e.onNeutral,e=e.translate,r=j().createElement("div",{className:"text-center conversion-message",dangerouslySetInnerHTML:{__html:1===o?e(Br,{robuxAmount:'<br /><span class="icon-robux-16x16"></span>'+r}):e(qr,{remainingCreditBalance:"<span class='fiat-price-tag ml-1' data-amount="+t+" data-currency-code="+n+"></span>",lineBreaker:"<br />",robuxConversionAmount:'<span class="icon-robux-16x16"></span>'+r})},ref:function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".fiat-price-tag"}}))}});return j().createElement(ma,{id:"convert-credit-modal",title:e(Lr),body:r,neutralButtonText:e(Pr),actionButtonText:e(Ur),onNeutral:c,onAction:i,loading:a,actionButtonShow:!0})},o[1]]))[0],ga=d[1],Sa=function(e){function a(){d.warning(m(Vr)||"Something went wrong! Please try again later."),ya.close(),ga.close(),window.location.href=D.urlService.getAbsoluteUrl("/upgrades/robux")}function o(e,t){t=0===t||null==t,e?d.success(m(t?Gr:Fr)):d.warning(m(t?Kr:_r)||m(Vr)||"Something went wrong! Please try again later.")}function i(){return pa(t,void 0,void 0,function(){var t;return va(this,function(e){switch(e.label){case 0:w(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,Ar()];case 2:return 200!==(t=e.sent()).status?(d.warning(m(Vr)||"Something went wrong! Please try again later."),w(!1),(0,Nr.fireEvent)(Wr),(0,Nr.fireEvent)(""+Wr+t.status),[2]):0===(t=t.data).creditBalance||0===t.productId&&0===t.robuxConversionAmount?(w(!1),ga.close(),ya.close(),r(t.creditBalance),(0,Nr.fireEvent)(Qr),[2]):(r(t.creditBalance),u(t.currencyCode),s(t.robuxConversionAmount),p(t.productId),h(t.balanceDue),S(t.robuxAmountProductGrant),0===t.productId?(ga.open(),ya.close(),(0,Nr.fireEvent)(zr)):(ya.open(),(0,Nr.fireEvent)($r)),[3,5]);case 3:return e.sent(),a(),(0,Nr.fireEvent)(Hr),[3,5];case 4:return w(!1),[7];case 5:return[2]}})})}var t=this,n=e.creditBalance,r=e.setCreditBalance,c=e.currencyCode,u=e.setCurrencyCode,l=e.convertedRobuxAmount,s=e.setConvertedRobuxAmount,d=e.systemFeedbackService,m=e.translate,f=(e=(0,L.useState)(0))[0],p=e[1],v=(e=(0,L.useState)(0))[0],b=e[1],y=(e=(0,L.useState)(0))[0],h=e[1],g=(e=(0,L.useState)(0))[0],S=e[1],E=(e=(0,L.useState)(!1))[0],w=e[1],C=function(){return pa(t,void 0,void 0,function(){var t,n,r;return va(this,function(e){switch(e.label){case 0:w(!0),e.label=1;case 1:return e.trys.push([1,6,7,8]),[4,xr(f)];case 2:return 200!==(t=e.sent()).status?(o(!1,f),w(!1),(0,Nr.fireEvent)(Xr),(0,Nr.fireEvent)(""+Xr+t.status),[2]):(n=t.data,o(n.isSuccess,f),n.isSuccess&&null!==(r=n.providerPayload)&&void 0!==r&&r.IsSuccessful?[4,i()]:[3,4]);case 3:return e.sent(),b(v+1),(0,Nr.fireEvent)(Yr),[3,5];case 4:ya.close(),ga.close(),(0,Nr.fireEvent)(Jr),e.label=5;case 5:return(0,Nr.fireEvent)(Zr+n.providerPayload.ResponseMessage),[3,8];case 6:return e.sent(),a(),(0,Nr.fireEvent)(ea),[3,8];case 7:return w(!1),[7];case 8:return[2]}})})};return[(0,q.withTranslations)(function(){function e(){0===f?(ga.close(),(0,Nr.fireEvent)(ta)):(ya.close(),(0,Nr.fireEvent)(na))}return j().createElement(L.Fragment,null,j().createElement(ba,{availableBalance:n,totalBalanceDue:y,currencyCode:c,numberOfPurchase:v,robuxAmountInPackage:g,onPurchase:function(){C()},onNeutral:e,loading:E,translate:m}),j().createElement(ha,{remainingCreditBalance:n,currencyCode:c,robuxConversionAmount:l,numberOfPurchase:v,onConvert:function(){C()},onNeutral:e,loading:E,translate:m}))},ra),function(){b(0),i(),b(1)}]};function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ca=i,Aa=(i=Ea((0,h.createSystemFeedback)(),2))[0],xa=i[1];function Oa(e){function t(){a&&(d(!1),ae(o).then(function(e){e=e.data;p(e.robux)},function(){y(n(I))}).finally(function(){d(!0)}))}var n=e.translate,r=e.toggleUniverseSearch,a=N.authenticatedUser.isAuthenticated,o=N.authenticatedUser.id,i=Ea((0,L.useState)(0),2),c=i[0],u=i[1],l=Ea((0,L.useState)(!1),2),s=l[0],d=l[1],m=Ea((0,L.useState)(0),2),f=m[0],p=m[1],v=Ea((0,L.useState)(""),2),b=v[0],y=v[1],h=Ea((0,L.useState)(R.control),2),g=h[0],S=h[1],e=Ea((0,L.useState)(null),2),i=e[0],E=e[1],l=Ea((0,L.useState)(null),2),m=l[0],w=l[1],v=Ea((0,L.useState)(""),2),h=v[0],C=v[1],e=Ea((0,L.useState)(!1),2),l=e[0],A=e[1],v=Ea((0,L.useState)(0),2),e=v[0],v=v[1],e=Ea(Sa({creditBalance:i,setCreditBalance:E,currencyCode:m,setCurrencyCode:w,convertedRobuxAmount:e,setConvertedRobuxAmount:v,systemFeedbackService:xa,translate:n}),2),v=e[0],x=e[1];(0,L.useEffect)(function(){window.addEventListener("navigation-update-user-currency",function(e){t()})},[]),(0,L.useEffect)(function(){if(a){Ca().then(u),t(),le().then(function(e){var t=e.data;null===t.creditDisplayConfig||null===t.creditBalance||null===t.currencyCode?S(R.control):S(null!==(e=t.creditDisplayConfig)&&void 0!==e?e:R.control),E(t.creditBalance),w(t.currencyCode)},function(){C(n(I))}).finally(function(){A(!0)});try{me.localStorageService.getLocalStorage(T.accountSwitchedFlag)&&(xa.success(n(T.accountSwitchedMessage,{accountName:N.authenticatedUser.name}),0,5e3),me.localStorageService.removeLocalStorage(T.accountSwitchedFlag))}catch(e){}}},[a,o]);var O=j().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},j().createElement("span",{className:"nav-robux-icon rbx-menu-item"},j().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{on().module("notificationStreamIcon"),on().module("notificationStream"),O=j().createElement(En,null)}catch(e){console.log(e)}return j().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},j().createElement(Aa,null),j().createElement(Or,{translate:n}),j().createElement(hr,{translate:n,toggleUniverseSearch:r}),O,j().createElement(br,{translate:n,robuxAmount:f,isGetCurrencyCallDone:s,robuxError:b,creditAmount:i,currencyCode:m,creditError:h,creditDisplayConfig:g,isExperimentCallDone:l,openConvertCreditModal:function(){x()}}),j().createElement(Xn,{translate:n,accountNotificationCount:c}),j().createElement(v,null))}Oa.defaultProps={accountNotificationCount:0},Oa.propTypes={translate:p().func.isRequired,accountNotificationCount:p().number,toggleUniverseSearch:p().func.isRequired};var Na=(0,q.withTranslations)(Oa,{common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Purchasing.RedeemGameCard"});function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ra(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=c;function ka(e){var t=e.translate,n=Ia(null!==(e=null===M.AccountSwitcherService||void 0===M.AccountSwitcherService?void 0:M.AccountSwitcherService.useIsAccountSwitcherAvailableForBrowser())&&void 0!==e?e:[!1],1)[0];return j().createElement("li",{className:"signup-button-container"},j().createElement(h.Link,{onClick:function(){window.location.href=Ta(n)},url:Ta(n),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},t("Label.sSignUp")))}function Pa(){window.location.href=ja()}ka.propTypes={translate:p().func.isRequired};var Ua=ka,La=v,ja=x;function Da(e){e=e.translate;return j().createElement("li",{className:"login-action"},La()&&j().createElement(h.Link,{onClick:Pa,url:ja(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}Da.propTypes={translate:p().func.isRequired};var Ma=Da;function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ba(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Fa(e){var t=e.translate,n=e.toggleUniverseSearch,e=Ba(e,["translate","toggleUniverseSearch"]);return N.authenticatedUser.isAuthenticated?j().createElement("div",{className:"navbar-right rbx-navbar-right"},j().createElement(Na,qa({translate:t,toggleUniverseSearch:n},e))):j().createElement("div",{className:"navbar-right rbx-navbar-right"},j().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},j().createElement(Ua,{translate:t}),j().createElement(Ma,{translate:t}),j().createElement(hr,{translate:t,toggleUniverseSearch:n})))}Fa.propTypes={translate:p().func.isRequired,toggleUniverseSearch:p().func.isRequired};var _a=Fa;function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Va(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wa=(0,q.withTranslations)(function(e){var t=Te(),n=Ka((0,L.useState)(t),2),r=n[0],a=n[1],t=(n=Ka((0,L.useState)(!t),2))[0],o=n[1],i=(0,L.useCallback)(function(){var e=Te();r!==e&&(a(e),o(!e))},[r]);return(0,L.useEffect)(function(){return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[i]),j().createElement(j().Fragment,null,j().createElement(an,Ga({isUniverseSearchShown:t},e)),j().createElement(_a,Ga({toggleUniverseSearch:function(){o(function(e){return!e})}},e)))},m),x=function(){var e=document.getElementById("header-develop-md-link"),t=document.getElementById("header-develop-sm-link");null!==e&&(e.href="https://create.".concat(M.EnvironmentUrls.domain,"/")),null!==t&&(t.href="https://create.".concat(M.EnvironmentUrls.domain,"/"))},Qa=a;function Ha(e){var e=e.translate,t=document.getElementById(Qa);return j().createElement(h.Button,{id:"skip-to-main-content",size:h.Button.sizes.extraSmall,variant:h.Button.variants.primary,onClick:function(){return t.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}Ha.propTypes={translate:p().func.isRequired};var za=Ha,$a=s,Xa=N.authenticatedUser.isAuthenticated;function Ya(e){var t=h.IconButton.iconTypes;return j().createElement(L.Fragment,null,j().createElement(za,e),Xa&&j().createElement(h.IconButton,{className:"menu-button",iconType:t.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent($a.name))}}))}Ya.propTypes={};var Ja=(0,q.withTranslations)(Ya,m);function Za(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function eo(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Za(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Za(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}ao(226);var w=w,to="right-navigation-header",no="left-navigation-container",ro="header-menu-icon";r().NavigationService=eo(eo({},r().NavigationService),{},{logoutAndRedirect:w}),x(),(0,D.ready)(function(){document.getElementById(ro)&&(0,t.render)(j().createElement(Ja,null),document.getElementById(ro)),document.getElementById(to)&&(0,t.render)(j().createElement(Wa,null),document.getElementById(to)),document.getElementById(no)&&(0,t.render)(j().createElement(lt,null),document.getElementById(no))})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/71111f0d83ba41dc5d88f65440fd32b2-navigation.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Navigation");