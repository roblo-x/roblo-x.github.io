!function(){var n={512:function(e){"use strict";var p={single_source_shortest_paths:function(e,t,n){var r={},a={};a[t]=0;var i,o,l,c,s,u,d,f=p.PriorityQueue.make();for(f.push(t,0);!f.empty();)for(l in o=(i=f.pop()).value,c=i.cost,s=e[o]||{})s.hasOwnProperty(l)&&(u=c+s[l],d=a[l],(void 0===a[l]||u<d)&&(a[l]=u,f.push(l,u),r[l]=o));if(void 0===n||void 0!==a[n])return r;n=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(n)},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){t=p.single_source_shortest_paths(e,t,n);return p.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(e){var t,n=p.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){t={value:e,cost:t};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=p},899:function(e){"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var a,i=e.charCodeAt(r);55296<=i&&i<=56319&&r+1<n&&(56320<=(a=e.charCodeAt(r+1))&&a<=57343&&(i=1024*(i-55296)+a-56320+65536,r+=1)),i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||57344<=i&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):65536<=i&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},28:function(e,t,n){var c=n(827),s=n(421),r=n(895),a=n(398);function i(r,a,i,o,t){var e=[].slice.call(arguments,1),n=e.length,e="function"==typeof e[n-1];if(!e&&!c())throw new Error("Callback required as last argument");if(!e){if(n<1)throw new Error("Too few arguments provided");return 1===n?(i=a,a=o=void 0):2!==n||a.getContext||(o=i,i=a,a=void 0),new Promise(function(e,t){try{var n=s.create(i,o);e(r(n,a,o))}catch(e){t(e)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(t=i,i=a,a=o=void 0):3===n&&(a.getContext&&void 0===t?(t=o,o=void 0):(t=o,o=i,i=a,a=void 0));try{var l=s.create(i,o);t(null,r(l,a,o))}catch(e){t(e)}}s.create,i.bind(null,r.render),t.hz=i.bind(null,r.renderToDataURL),i.bind(null,function(e,t,n){return a.render(e,n)})},827:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},965:function(e,o,t){var i=t(814).getSymbolSize;o.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,e=i(e),n=145===e?26:2*Math.ceil((e-13)/(2*t-2)),r=[e-7],a=1;a<t-1;a++)r[a]=r[a-1]-n;return r.push(6),r.reverse()},o.getPositions=function(e){for(var t=[],n=o.getRowColCoords(e),r=n.length,a=0;a<r;a++)for(var i=0;i<r;i++)0===a&&0===i||0===a&&i===r-1||a===r-1&&0===i||t.push([n[a],n[i]]);return t}},224:function(e,t,n){var r=n(937),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0;t+2<=this.data.length;t+=2){var n=45*a.indexOf(this.data[t]);n+=a.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(a.indexOf(this.data[t]),6)},e.exports=i},596:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},534:function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){t=e*this.size+t;this.data[t]=n,r&&(this.reservedBit[t]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},823:function(e,t,n){var r=n(899),a=n(937);function i(e){this.mode=a.BYTE,"string"==typeof e&&(e=r(e)),this.data=new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},889:function(e,t,n){var r=n(422),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}}},422:function(e,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},125:function(e,t,n){var r=n(814).getSymbolSize;t.getPositions=function(e){e=r(e);return[[0,0],[e-7,0],[0,e-7]]}},336:function(e,t,n){var r=n(814),a=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var t=e.bit<<3|t,n=t<<10;0<=r.getBCHDigit(n)-a;)n^=1335<<r.getBCHDigit(n)-a;return 21522^(t<<10|n)}},376:function(e,t){var r=new Uint8Array(512),a=new Uint8Array(256);!function(){for(var e=1,t=0;t<255;t++)r[t]=e,a[e]=t,256&(e<<=1)&&(e^=285);for(var n=255;n<512;n++)r[n]=r[n-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return a[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[a[e]+a[t]]}},57:function(e,t,n){var r=n(937),a=n(814);function i(e){this.mode=r.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0;t<this.data.length;t++){var n=a.toSJIS(this.data[t]);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=i},910:function(e,l){l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var u=3,o=3,c=40,a=10;l.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},l.from=function(e){return l.isValid(e)?parseInt(e,10):void 0},l.getPenaltyN1=function(e){for(var t=e.size,n=0,r=0,a=0,i=null,o=null,l=0;l<t;l++){i=o=null;for(var c=r=a=0;c<t;c++){var s=e.get(l,c);s===i?r++:(5<=r&&(n+=u+(r-5)),i=s,r=1),(s=e.get(c,l))===o?a++:(5<=a&&(n+=u+(a-5)),o=s,a=1)}5<=r&&(n+=u+(r-5)),5<=a&&(n+=u+(a-5))}return n},l.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var a=0;a<t-1;a++){var i=e.get(r,a)+e.get(r,a+1)+e.get(r+1,a)+e.get(r+1,a+1);4!==i&&0!==i||n++}return n*o},l.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,a=0,i=0;i<t;i++)for(var o=r=a=0;o<t;o++)r=r<<1&2047|e.get(i,o),10<=o&&(1488===r||93===r)&&n++,a=a<<1&2047|e.get(o,i),10<=o&&(1488===a||93===a)&&n++;return n*c},l.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*a},l.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var a=0;a<n;a++)t.isReserved(a,r)||t.xor(a,r,function(e,t,n){switch(e){case l.Patterns.PATTERN000:return(t+n)%2==0;case l.Patterns.PATTERN001:return t%2==0;case l.Patterns.PATTERN010:return n%3==0;case l.Patterns.PATTERN011:return(t+n)%3==0;case l.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case l.Patterns.PATTERN101:return t*n%2+t*n%3==0;case l.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case l.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}(e,a,r))},l.getBestMask=function(e,t){for(var n=Object.keys(l.Patterns).length,r=0,a=1/0,i=0;i<n;i++){t(i),l.applyMask(i,e);var o=l.getPenaltyN1(e)+l.getPenaltyN2(e)+l.getPenaltyN3(e)+l.getPenaltyN4(e);l.applyMask(i,e),o<a&&(a=o,r=i)}return r}},937:function(e,n,t){var r=t(148),a=t(598);n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return a.testNumeric(e)?n.NUMERIC:a.testAlphanumeric(e)?n.ALPHANUMERIC:a.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},758:function(e,t,n){var r=n(937);function a(e){this.mode=r.NUMERIC,this.data=e.toString()}a.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(var t,n,r=0;r+3<=this.data.length;r+=3)t=this.data.substr(r,3),n=parseInt(t,10),e.put(n,10);var a=this.data.length-r;0<a&&(t=this.data.substr(r),n=parseInt(t,10),e.put(n,3*a+1))},e.exports=a},378:function(e,r,t){var o=t(376);r.mul=function(e,t){for(var n=new Uint8Array(e.length+t.length-1),r=0;r<e.length;r++)for(var a=0;a<t.length;a++)n[r+a]^=o.mul(e[r],t[a]);return n},r.mod=function(e,t){for(var n=new Uint8Array(e);0<=n.length-t.length;){for(var r=n[0],a=0;a<t.length;a++)n[a]^=o.mul(t[a],r);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},r.generateECPolynomial=function(e){for(var t=new Uint8Array([1]),n=0;n<e;n++)t=r.mul(t,new Uint8Array([1,o.exp(n)]));return t}},421:function(e,t,n){var C=n(814),i=n(422),o=n(596),l=n(534),s=n(965),u=n(125),d=n(910),w=n(889),x=n(630),f=n(701),c=n(336),p=n(937),m=n(59);function g(e,t,n){for(var r,a=e.size,i=c.getEncodedBits(t,n),o=0;o<15;o++)r=1==(i>>o&1),o<6?e.set(o,8,r,!0):o<8?e.set(o+1,8,r,!0):e.set(a-15+o,8,r,!0),o<8?e.set(8,a-o-1,r,!0):o<9?e.set(8,15-o-1+1,r,!0):e.set(8,15-o-1,r,!0);e.set(a-8,8,1,!0)}function h(t,e,n){var r=new o;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(r)});n=8*(C.getSymbolTotalCodewords(t)-w.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=n&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var a=(n-r.getLengthInBits())/8,i=0;i<a;i++)r.put(i%2?17:236,8);return function(e,t,n){for(var r=C.getSymbolTotalCodewords(t),a=w.getTotalCodewordsCount(t,n),a=r-a,i=w.getBlocksCount(t,n),o=i-r%i,n=Math.floor(r/i),l=Math.floor(a/i),c=l+1,s=n-l,u=new x(s),d=0,f=new Array(i),p=new Array(i),m=0,g=new Uint8Array(e.buffer),h=0;h<i;h++){var v=h<o?l:c;f[h]=g.slice(d,d+v),p[h]=u.encode(f[h]),d+=v,m=Math.max(m,v)}var y,b,E=new Uint8Array(r),A=0;for(y=0;y<m;y++)for(b=0;b<i;b++)y<f[b].length&&(E[A++]=f[b][y]);for(y=0;y<s;y++)for(b=0;b<i;b++)E[A++]=p[b][y];return E}(r,t,e)}function v(e,c,t,n){var r;if(Array.isArray(e))r=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var a,i=c;i||(a=m.rawSplit(e),i=f.getBestVersionForData(a,t)),r=m.fromString(e,i||40)}e=f.getBestVersionForData(r,t);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(c){if(c<e)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+e+".\n")}else c=e;i=h(c,t,r),e=C.getSymbolSize(c),e=new l(e);return function(e){for(var t=e.size,n=u.getPositions(c),r=0;r<n.length;r++)for(var a=n[r][0],i=n[r][1],o=-1;o<=7;o++)if(!(a+o<=-1||t<=a+o))for(var l=-1;l<=7;l++)i+l<=-1||t<=i+l||(0<=o&&o<=6&&(0===l||6===l)||0<=l&&l<=6&&(0===o||6===o)||2<=o&&o<=4&&2<=l&&l<=4?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0))}(e),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(e),function(e){for(var t=s.getPositions(c),n=0;n<t.length;n++)for(var r=t[n][0],a=t[n][1],i=-2;i<=2;i++)for(var o=-2;o<=2;o++)-2===i||2===i||-2===o||2===o||0===i&&0===o?e.set(r+i,a+o,!0,!0):e.set(r+i,a+o,!1,!0)}(e),g(e,t,0),7<=c&&function(e){for(var t,n,r,a=e.size,i=f.getEncodedBits(c),o=0;o<18;o++)t=Math.floor(o/3),n=o%3+a-8-3,r=1==(i>>o&1),e.set(t,n,r,!0),e.set(n,t,r,!0)}(e),function(e,t){for(var n=e.size,r=-1,a=n-1,i=7,o=0,l=n-1;0<l;l-=2)for(6===l&&l--;;){for(var c,s=0;s<2;s++)e.isReserved(a,l-s)||(c=!1,o<t.length&&(c=1==(t[o]>>>i&1)),e.set(a,l-s,c),-1===--i&&(o++,i=7));if((a+=r)<0||n<=a){a-=r,r=-r;break}}}(e,i),isNaN(n)&&(n=d.getBestMask(e,g.bind(null,e,t))),d.applyMask(n,e),g(e,t,n),{modules:e,version:c,errorCorrectionLevel:t,maskPattern:n,segments:r}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,a=i.M;return void 0!==t&&(a=i.from(t.errorCorrectionLevel,i.M),n=f.from(t.version),r=d.from(t.maskPattern),t.toSJISFunc&&C.setToSJISFunction(t.toSJISFunc)),v(e,n,a,r)}},630:function(e,t,n){var r=n(378);function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var n=r.mod(t,this.genPoly),e=this.degree-n.length;if(0<e){t=new Uint8Array(this.degree);return t.set(n,e),t}return n},e.exports=a},598:function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(r,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var a=new RegExp("^"+n+"$"),i=new RegExp("^[0-9]+$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return i.test(e)},t.testAlphanumeric=function(e){return o.test(e)}},59:function(e,o,t){var m=t(937),r=t(758),a=t(224),i=t(823),l=t(57),c=t(598),s=t(814),u=t(512);function d(e){return unescape(encodeURIComponent(e)).length}function f(e,t,n){for(var r,a=[];null!==(r=e.exec(n));)a.push({data:r[0],index:r.index,mode:t,length:r[0].length});return a}function p(e){var t,n=f(c.NUMERIC,m.NUMERIC,e),r=f(c.ALPHANUMERIC,m.ALPHANUMERIC,e),e=s.isKanjiModeEnabled()?(t=f(c.BYTE,m.BYTE,e),f(c.KANJI,m.KANJI,e)):(t=f(c.BYTE_KANJI,m.BYTE,e),[]);return n.concat(r,t,e).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case m.NUMERIC:return r.getBitsLength(e);case m.ALPHANUMERIC:return a.getBitsLength(e);case m.KANJI:return l.getBitsLength(e);case m.BYTE:return i.getBitsLength(e)}}function n(e,t){var n=m.getBestModeForData(e),t=m.from(t,n);if(t!==m.BYTE&&t.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+m.toString(t)+".\n Suggested mode is: "+m.toString(n));switch(t!==m.KANJI||s.isKanjiModeEnabled()||(t=m.BYTE),t){case m.NUMERIC:return new r(e);case m.ALPHANUMERIC:return new a(e);case m.KANJI:return new l(e);case m.BYTE:return new i(e)}}o.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(n(t,null)):t.data&&e.push(n(t.data,t.mode)),e},[])},o.fromString=function(e,t){for(var n=function(e,t){for(var n={},r={start:{}},a=["start"],i=0;i<e.length;i++){for(var o=e[i],l=[],c=0;c<o.length;c++){var s=o[c],u=""+i+c;l.push(u),n[u]={node:s,lastCount:0},r[u]={};for(var d=0;d<a.length;d++){var f=a[d];n[f]&&n[f].node.mode===s.mode?(r[f][u]=g(n[f].lastCount+s.length,s.mode)-g(n[f].lastCount,s.mode),n[f].lastCount+=s.length):(n[f]&&(n[f].lastCount=s.length),r[f][u]=g(s.length,s.mode)+4+m.getCharCountIndicator(s.mode,t))}}a=l}for(var p=0;p<a.length;p++)r[a[p]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case m.NUMERIC:t.push([r,{data:r.data,mode:m.ALPHANUMERIC,length:r.length},{data:r.data,mode:m.BYTE,length:r.length}]);break;case m.ALPHANUMERIC:t.push([r,{data:r.data,mode:m.BYTE,length:r.length}]);break;case m.KANJI:t.push([r,{data:r.data,mode:m.BYTE,length:d(r.data)}]);break;case m.BYTE:t.push([{data:r.data,mode:m.BYTE,length:d(r.data)}])}}return t}(p(e,s.isKanjiModeEnabled())),t),r=u.find_path(n.map,"start","end"),a=[],i=1;i<r.length-1;i++)a.push(n.table[r[i]].node);return o.fromArray(a.reduce(function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},o.rawSplit=function(e){return o.fromArray(p(e,s.isKanjiModeEnabled()))}},814:function(e,t){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},148:function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},701:function(e,a,t){var i=t(814),o=t(889),r=t(422),l=t(937),c=t(148),n=i.getBCHDigit(7973);function s(e,t){return l.getCharCountIndicator(e,t)+4}function u(e,t){for(var n=1;n<=40;n++)if(function(e,n){var r=0;return e.forEach(function(e){var t=s(e.mode,n);r+=t+e.getBitsLength()}),r}(e,n)<=a.getCapacity(n,t,l.MIXED))return n}a.from=function(e,t){return c.isValid(e)?parseInt(e,10):t},a.getCapacity=function(e,t,n){if(!c.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=l.BYTE);t=8*(i.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(n===l.MIXED)return t;var r=t-s(n,e);switch(n){case l.NUMERIC:return Math.floor(r/10*3);case l.ALPHANUMERIC:return Math.floor(r/11*2);case l.KANJI:return Math.floor(r/13);case l.BYTE:default:return Math.floor(r/8)}},a.getBestVersionForData=function(e,t){var n,t=r.from(t,r.M);if(Array.isArray(e)){if(1<e.length)return u(e,t);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(var r=1;r<=40;r++)if(t<=a.getCapacity(r,n,e))return r}(n.mode,n.getLength(),t)},a.getEncodedBits=function(e){if(!c.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=i.getBCHDigit(t)-n;)t^=7973<<i.getBCHDigit(t)-n;return e<<12|t}},895:function(e,r,t){var o=t(467);r.render=function(e,t,n){var r=n,a=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=o.getOptions(r);var i=o.getImageWidth(e.modules.size,r),n=a.getContext("2d"),t=n.createImageData(i,i);return o.qrToImageData(t.data,e,r),r=a,i=i,n.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=i,r.width=i,r.style.height=i+"px",r.style.width=i+"px",n.putImageData(t,0,0),a},r.renderToDataURL=function(e,t,n){void 0!==n||t&&t.getContext||(n=t,t=void 0),n=n||{};e=r.render(e,t,n),t=n.type||"image/png",n=n.rendererOpts||{};return e.toDataURL(t,n.quality)}},398:function(e,t,n){var o=n(467);function l(e,t){var n=e.a/255,e=t+'="'+e.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function u(e,t,n){t=e+t;return void 0!==n&&(t+=" "+n),t}t.render=function(e,t,n){var r=o.getOptions(t),a=e.modules.size,i=e.modules.data,t=a+2*r.margin,e=r.color.light.a?"<path "+l(r.color.light,"fill")+' d="M0 0h'+t+"v"+t+'H0z"/>':"",a="<path "+l(r.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",a=0,i=!1,o=0,l=0;l<e.length;l++){var c=Math.floor(l%t),s=Math.floor(l/t);c||i||(i=!0),e[l]?(o++,0<l&&0<c&&e[l-1]||(r+=i?u("M",c+n,.5+s+n):u("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(r+=u("h",o),o=0)):a++}return r}(i,a,r.margin)+'"/>',t='viewBox="0 0 '+t+" "+t+'"',a='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+t+' shape-rendering="crispEdges">'+e+a+"</svg>\n";return"function"==typeof n&&n(null,a),a}},467:function(e,p){function a(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}p.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:a(e.color.dark||"#000000ff"),light:a(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},p.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},p.getImageWidth=function(e,t){var n=p.getScale(e,t);return Math.floor((e+2*t.margin)*n)},p.qrToImageData=function(e,t,n){for(var r=t.modules.size,a=t.modules.data,i=p.getScale(r,n),o=Math.floor((r+2*n.margin)*i),l=n.margin*i,c=[n.color.light,n.color.dark],s=0;s<o;s++)for(var u=0;u<o;u++){var d=4*(s*o+u),f=n.color.light;l<=s&&l<=u&&s<o-l&&u<o-l&&(f=c[a[Math.floor((s-l)/i)*r+Math.floor((u-l)/i)]?1:0]),e[d++]=f.r,e[d++]=f.g,e[d++]=f.b,e[d]=f.a}}},779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=l.apply(null,n))&&e.push(r);else if("object"==a)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var i in n)o.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},771:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAB1CAMAAABH2l6OAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAhOAAAITgBRZYxYAAAAO1QTFRFAAAAAK9gALplALpjALlkALhkALhnALhkALljALhkALhjALhjAL1jALljALhlALdgALlkALljALplALdkALljALhlALhlALdoALlkALhlALhkAL9gALlkAL1rALhkALllAK9wALhnALlmALhkALdiALpl9kxQ90pS9ktS9klQ70BQ90pQ90tS90pS90tR9kpTn5+fm5ubmZmZnJycmJiYl5eXmJiYmJiYmJiYym9xx3F1mZmZl5eXmJiYmZmZl5eXmZmZmpqa5FpfmJiYx3F0mJiY7VJZ3V9lmZmZl5eX90hT+EtR9kxS71BQ+EtSN94hsgAAAE90Uk5TABA/b39PL7/v/9+fH69vII9fb0BQn98gz6+PEO8f768QT1/PYDBv3++PEH//f99vEE9/H2/v/4+f7/+PIL9QQF8/n6//34+vz2Bfz+8Qj+KRS3EAAAMjSURBVHic7Zh9d9IwFMYDY+sK07oioKNuOF82lSkU0M6uDrbh6/T7fxybNmnTUmiCye05njz/bST55UlucnOLkJaWlpaWlpaWlhavavWdxmbt7slm1o19s1zN1oFEZu0BBzLmPpQGtZq80FCPqoCaZksOVQxqmrlFru3VtwizhiDUNNmQsqIwbB4KQi06lmG3N+pxp0tbpr1tGvpGTYh6SLo1ypv2npC2lGAZ6QI8FaKSjkc8bfvELVlPO3PG6yJUJ+7zjKuxzUyRNZpb9/LpC3Xpp6tp5y+zYwFqL+7S4WxO58gadcjRU05ljZ4MDBgqI+d5EpBw1JMBAqdio+DUyCgwlRiFpVKjkNTUKCCVMQpGzRgFo+ZzONQKZ1+oYNGUsQt4chi7kLdEahf2RqR2gW9/Yhc800V24bM6tgtENdh6oXUARUW9boptbv1a43yZWmnrlfJI5GVKXuHHfGUKKU+iVzhrF0uo5CCbwlUM00r3NP4za/dUhEqKCJ7qynpB2tLyhLXLGxmx+g4Nip36Ru0e7a8CErvGQIi6RdXMVmK9TjRj4Y8k/W4ZJafcXgza7Z4oE60GY4kkfQ0Rw8qC0s3hkSPvK1eoNhfXaQxkQhEOCrvk6+XLV9yDvT47f/NW8gRL9W4Y6qIK6PC8CujwfRXQ4YcqoKDbqhI6GrsrGk8UQ6ezj0X6pBTqFTJDXSqEuuugnxPo2HcncqFXGBB8uc7LS6BXAW7iSqXOwxG9gv8ne0p3fSGT6ocDXq+H3gR0wacyqTiWVjeNQi8jo7Nb2UtcSKXQu8hlMFlAUDPQWbi0ENQMNMA/AlBZ6CyOIfXU5MhQoxDU9O7FBxmIylz4eFeXcwgqm2Xiy8FTH02Z1EbuJGxXKTWbT5Pk4ym9JXJJHMdwnAaXvgrqogiKU2CArpbUsVTqNBzwtgAaZXsfpVlfal4f4azijRdfCfTbItLYS0ixXblZnXihL4c79g1Ds/3c9wtS8L/JWwf9PpKNYuUui6AzVykUIbqnN8wr/Idi5v9Xy6zVzyqg6FcVUHRfBRRdVAFFv//cn4GW/1paWlpK9BcRsutogYHJewAAAABJRU5ErkJggg=="},204:function(e){e.exports="https://images.rbxcdn.com/d061775f2c5685fdb5f332aaefc8fc7b-hearts_large@3x.png"},52:function(e){e.exports="https://images.rbxcdn.com/d7918c88e1d1f803332755fd8a3b6536-lock_xxlarge@3x.png"},802:function(e){e.exports="https://images.rbxcdn.com/51becc9e20f99dc4be7106264a364d58-voicechat_large@3x.png"}},r={};function $t(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,$t),t.exports}$t.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return $t.d(t,{a:t}),t},$t.d=function(e,t){for(var n in t)$t.o(t,n)&&!$t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},$t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function C(){return{retryable:!0,withCredentials:!0,url:"".concat(h,"/v1/email")}}var w=React,x=$t.n(w),c=Roblox,e=$t.n(c),r=ReactDOM,S=CoreUtilities,a="id-verification-container",t=PropTypes,n=$t.n(t),i=ReactUtilities,k=ReactStyleGuide,N="SET_USER_EMAIL_STATES",L="SET_MODAL_STATES",T="SET_PAGENAME_STATE",R="SET_INPUT_STATE",V="SET_ERROR_STATE",P="SET_EMAIL_UPDATING_STATE",U="SET_TRIGGER_ORIGIN",I="SET_INPUT_CLEAR",M="SET_VERIFICATION_CALLBACK",B="SET_CALLBACK_READY",O="CLEANUP_MODAL",d=$t(28),o=CoreRobloxUtilities,l=o.eventStreamService.eventTypes,s="ageVerification",u="voiceChat",f="avatarVideo",t="buttonClick",j={showQRCode:{name:"showQRCode",type:l.modalAction,context:s,params:{aType:"shown",field:"ageVerificationQRCode"}},showAddEmailModal:{name:"showAddEmailModal",type:l.modalAction,context:s,params:{aType:"shown",field:"addEmail"}},useAddEmailField:{name:"useAddEmailField",type:l.formInteraction,context:s,params:{btn:"emailAddress",field:"addEmail"}},addEmailConfirm:{name:"addEmailConfirm",type:t,context:s,params:{btn:"continue",field:"addEmail"}},showModal:{name:"showModal",type:l.modalAction,context:s,params:{aType:"shown",field:"startAgeVerification"}},verificationLinkClicked:{name:"verificationLinkClicked",type:t,context:s,params:{btn:"startSession",field:"startAgeVerification"}},exitIdentityVerification:{name:"exitIdentityVerification",type:l.modalAction,context:s,params:{aType:"dismissed",field:"startAgeVerification"}},verificationInProgress:{name:"verificationInProgress",type:l.modalAction,context:s,params:{aType:"shown",field:"ageVerificationProgress"}},verificationPending:{name:"verificationPending",type:l.modalAction,context:s,params:{aType:"shown",field:"ageVerificationPending"}},successPage:{name:"successPage",type:l.modalAction,context:s,params:{aType:"shown",field:"ageVerificationSucceded"}},successPageClose:{name:"successPageClose",type:t,context:s,params:{btn:"Done",field:"ageVerificationSucceded"}},failurePage:{name:"failurePage",type:l.modalAction,context:s,params:{aType:"shown",field:"ageVerificationFailed"}},failurePageClose:{name:"failurePageClose",type:t,context:s,params:{btn:"Done",field:"ageVerificationFailed"}},tempBanPage:{name:"tempBanPage",type:l.modalAction,context:s,params:{aType:"shown",field:"ageVerificationTempBanned"}},tempBanPageClose:{name:"tempBanPageClose",type:t,context:s,params:{btn:"Done",field:"ageVerificationTempBanned"}},joinWithoutVoiceChat:{name:"joinWithoutVoiceChat",type:"joinWithoutVoiceChat",context:u,params:{dontShowAgain:!1}},closeEnableVoiceChatModal:{name:"closeEnableVoiceChatModal",type:"closeEnableVoiceChatModal",context:u},showEnableVoiceChatModal:{name:"showEnableVoiceChatModal",type:"showEnableVoiceChatModal",context:u},enableVoiceChatUpsell:{name:"enableVoiceChatUpsell",type:"enableVoiceChatUpsell",context:u},learnMoreAboutVoiceRecordingUpsell:{name:"learnMoreAboutVoiceRecordingUpsell",type:"learnMoreAboutVoiceRecordingUpsell",context:u},joinWithoutAvatarVideo:{name:"joinWithoutAvatarVideo",type:"joinWithoutAvatarVideo",context:f},showUnifiedChatUpsellModal:{name:"showUnifiedChatUpsellModal",type:"showUnifiedChatUpsellModal",context:f},enableAvatarVideo:{name:"enableAvatarVideo",type:"enableAvatarVideo",context:f},learnMoreAvatarVideo:{name:"learnMoreAvatarVideo",type:"learnMoreAvatarVideo",context:f}},D="LANDING",q="EMAIL",F="SUCCESS_OVERAGE",H="SUCCESS_UNDERAGE",_="SUCCESS",z="FAILURE",K="PENDING",Q="POLLING",p="EMAIL_CONTINUE",m="EXTERNAL_EMAIL",Y="ERROR",J="TEMP_BAN",W="VENDOR_LINK",G="ENABLE_VOICE_CHAT",X="ENABLE_AVATAR_CHAT",Z="AccountSettings",$="LuaApp",ee="WebApp",te="parent-account-setup",ne=0,re=1,ae=2,ie=3,oe=4,le=5,ce=6,se=7,ue=2,de=3,fe=4,pe=5,me=6,ge=7,he=0,ve=1,ye=2,be=3,Ee="OpenVoiceOptInOverlay",Ae="OpenCameraOptInOverlay",Ce="OpenIdentityVerificationModal",g=c.EnvironmentUrls.apiGatewayUrl,h=c.EnvironmentUrls.accountSettingsApi,v=c.EnvironmentUrls.voiceApi,we="".concat(c.EnvironmentUrls.websiteUrl,"/parents/account-setup");function y(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function b(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function xe(){var e={retryable:!0,withCredentials:!0,url:"".concat(g,"/age-verification-service/v1/persona-id-verification/start-verification")};return S.httpService.post(e,{generateLink:!0}).then(function(e){return e.data},function(){return!1})}function Se(){var e={retryable:!0,withCredentials:!0,url:"".concat(g,"/age-verification-service/v1/age-verification/verified-age")};return S.httpService.get(e).then(function(e){return e.data})}function ke(e){var t={retryable:!0,withCredentials:!0,url:"".concat(g,"/age-verification-service/v1/persona-id-verification/verified-status")},e={token:e};return S.httpService.get(t,e).then(function(e){return e.data})}function Ne(e,t){o.eventStreamService.sendEventWithTarget(e.type,e.context,b(b({},e.params),{},{origin:t.origin}))}function E(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e){var n=e.translate,t=e.onHide,r=e.verificationLink,a=e.useQRCode,i=e.checklistStep,o=e.origin,l=A((0,w.useState)(),2),c=l[0],s=l[1],e=A((0,w.useState)(!1),2),l=e[0],u=e[1];(0,w.useEffect)(function(){function e(){var l;return l=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.hz(r,{errorCorrectionLevel:"H"});case 3:t=e.sent,s(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:return e.prev=10,u(a&&t),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,7,10,13]])}),(e=function(){var e=this,o=arguments;return new Promise(function(t,n){var r=l.apply(e,o);function a(e){E(r,t,n,a,i,"next",e)}function i(e){E(r,t,n,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[a,r]);return x().createElement(x().Fragment,null,x().createElement(k.Modal.Header,{useBaseBootstrapComponent:!0},x().createElement("div",{className:"email-upsell-title-container"},x().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:t},x().createElement("span",{className:"close icon-close"})),x().createElement(k.Modal.Title,{id:"contained-modal-title-vcenter"},n("Heading.IdentityVerification")))),x().createElement(k.Modal.Body,{className:"verification-checklist-page-content"},x().createElement("div",{className:"cta"},n(i===he||i===ve?"Label.VerifyInBrowser":"Label.VerificationDataSubmitted")),x().createElement("ul",{className:"checklist-wrapper"},["Label.ConnectingToMobile","Label.VerifyingYou","Label.VerificationWaitingForResults","Label.UpdatingRoblox"].map(function(e,t){return t<=i?x().createElement("li",{className:"checklist-item"},x().createElement("span",{className:"check-wrapper"},x().createElement("span",{className:t===i?"spinner spinner-sm":"icon-checkmark"})),x().createElement("span",{className:"checklist-text"},n(e))):null})),l&&x().createElement("div",{className:"verification-link-page-content"},x().createElement("div",{className:"qr-code-wrapper"},x().createElement("img",{className:"qr-code-img",src:c,alt:"qr"})),x().createElement("div",{className:"footer-text"},n("Label.HavingTroubleScanCode"))),!l&&x().createElement("a",{href:r,onClick:function(){Ne(j.verificationLinkClicked,{origin:o})},target:"_blank",rel:"noreferrer"},x().createElement(k.Button,{className:"primary-link",variant:k.Button.variants.primary,size:k.Button.sizes.medium,width:k.Button.widths.full},n("Action.RestartSession"))),x().createElement("div",{className:"footer-text"},n("Label.PleaseDoNotClose"))))}Te.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,verificationLink:n().string.isRequired,useQRCode:n().bool.isRequired,checklistStep:n().number.isRequired,origin:n().string.isRequired};var Re=Te,Ve={AgeVerification:"ageVerification",Enter:"Enter",InvalidEmailCode:9,InvalidPasswordCode:8,ActionChangeEmail:"Action.ChangeEmail",ActionSent:"Action.Sent",ActionContinue:"Action.Continue",ActionGenericSkip:"Action.GenericSkip",DescriptionAddEmailTextOver13:"Description.IDVerificationAddEmailText",DescriptionAddEmailTextUnder13:"Description.IDVerificationAddEmailText",HeadingAddEmail:"Heading.AddEmail",LabelEmailInputPlaceholderOver13:"Label.EmailInputPlaceholderOver13",LabelEmailInputPlaceholderUnder13:"Label.EmailInputPlaceholderUnder13",MessageInvalidEmailAddress:"Message.InvalidEmailAddress"};function Pe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ue(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function Ie(e){var t={retryable:!0,withCredentials:!0,url:"".concat(v,"/v1/settings/verify/show-overlay")},e={showOverlay:e};return S.httpService.post(t,e).then(function(e){return e.data})}function Me(e,t){var n={withCredentials:!0,url:"".concat(v,"/v1/settings/user-opt-in")},t={isUserOptIn:e,isOptedInThroughUpsell:t};return S.httpService.post(n,t).then(function(e){return e.data})}function Be(e,t){var n={withCredentials:!0,url:"".concat(v,"/v1/settings/user-opt-in/avatarvideo")},t={isUserOptIn:e,isOptedInThroughUpsell:t};return S.httpService.post(n,t).then(function(e){return e.data})}function Oe(){var e={withCredentials:!0,url:"".concat(v,"/v1/settings/record-user-seen-upsell-modal")};return S.httpService.post(e,{}).then(function(e){return e.data})}function je(){var e={withCredentials:!0,url:"".concat(v,"/v1/settings/record-user-seen-avatar-video-upsell-modal")};return S.httpService.post(e,{}).then(function(e){return e.data})}function De(e){o.eventStreamService.sendEventWithTarget(e.type,e.context,Ue({},e.params))}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _e(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?He(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}var ze=c.EnvironmentUrls.websiteUrl,Ke=Ve.ActionGenericSkip,Qe=Ve.ActionContinue,Ye=Ve.DescriptionAddEmailTextOver13,Je=Ve.DescriptionAddEmailTextUnder13,We=Ve.HeadingAddEmail,Ge=Ve.LabelEmailInputPlaceholderOver13,Xe=Ve.LabelEmailInputPlaceholderUnder13,Ze={pageName:K,isEmailVerified:!1,isEmailSent:!1,isEmailUpdating:!1,origin:"",userEmail:"",userEmailInput:"",userEmailInputPlaceholder:Ge,errorMsg:"",titleText:We,bodyText:Ye,primaryButtonText:Qe,secondaryButtonText:Ve.ActionChangeEmail,daysUntilNextVerification:0,skipCallback:null,pageState:null,closeCallback:null,callbackReady:!1},$e=(0,w.createContext)(Ze);function et(e,t){var n=null;switch(t.type){case I:return _e(_e({},e),{},{userEmailInput:""});case U:return _e(_e({},e),{},{origin:t.origin,skipCallback:t.skipCallback});case N:return _e(_e({},e),{},{isEmailVerified:t.isEmailVerified,userEmail:t.userEmail});case T:return t.pageName===F?n={heading:"Heading.ThankYou",icon:"success-icon",bodyText:["Label.OverageVerification","Label.VoiceChat"],buttonStack:[{variant:k.Button.variants.primary,text:"Action.OK",callback:function(){t.close()}}],canClose:!1}:t.pageName===H?n={heading:"Heading.ThankYou",icon:"success-icon",bodyText:["Label.UnderageVerification","Label.VoiceChat"],footerText:"Label.ToggleFeatures",buttonStack:[{variant:k.Button.variants.primary,text:"Action.Close",callback:function(){t.close()}}],canClose:!1}:t.pageName===_?(Ne(j.successPage,{origin:e.origin}),o=["Label.DateOfBirthUpdated"],t.isSeventeenPlus&&o.push("Label.AccessWiderVariety"),n={heading:"Heading.VerificationSuccessful",bodyText:o,buttonStack:[{variant:k.Button.variants.primary,text:"Action.Close",callback:function(){Ne(j.successPageClose,{origin:e.origin}),t.close()}}],canClose:!1}):t.pageName===m?n={heading:"Heading.VerifyEmail",icon:"shield-icon",bodyText:["Label.EmailSent"],buttonStack:[{variant:k.Button.variants.primary,text:"Action.Continue",callback:function(){t.dispatch({type:T,pageName:Q}),t.poll()}}],userEmail:e.userEmail}:t.pageName===p?n={heading:"Heading.VerificationPending",icon:"shield-icon",bodyText:["Label.EmailSent"],buttonStack:[{variant:k.Button.variants.primary,text:"Action.Continue",callback:function(){t.dispatch({type:T,pageName:Q}),t.poll()}}],userEmail:e.userEmail}:t.pageName===Q?n=_e({},t):t.pageName===K?n={heading:"Heading.VerificationPending",icon:"failure-icon",bodyText:["Label.PendingVerification"],buttonStack:[{variant:k.Button.variants.primary,text:"Action.Close",callback:function(){t.close()}}],canClose:!1}:t.pageName===z?(Ne(j.failurePage,{origin:e.origin}),n={heading:"Heading.VerificationFailed",icon:"failure-icon",bodyText:[t.textKey||"Label.FailedVerification"],errorState:!0,buttonStack:[{variant:k.Button.variants.primary,text:"Action.Close",callback:function(){Ne(j.failurePageClose,{origin:e.origin}),t.close()}}],canClose:!1}):t.pageName===D?n={heading:"Heading.VerifyAge",icon:"shield-icon",bodyText:["Label.VoiceChatUpsell"],buttonStack:[{text:"Action.SkipVoiceChat",callback:function(){t.dispatch({type:O})}},{variant:k.Button.variants.primary,text:"Action.Continue",callback:function(){t.continue()}}],userEmail:e.userEmail,displayCheckbox:!0}:t.pageName===Y?n={heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.GenericError"],buttonStack:[{variant:k.Button.variants.primary,text:"Action.OK",callback:function(){t.close()}}],canClose:!1}:t.pageName===J?(Ne(j.tempBanPage,{origin:e.origin}),n={heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.VerificationDeclined"],buttonStack:[{variant:k.Button.variants.primary,text:"Action.OK",callback:function(){Ne(j.tempBanPageClose,{origin:e.origin}),t.close()}}],daysUntilNextVerification:t.daysUntilNextVerification,canClose:!1}):t.pageName===W?(t.useQRCode&&Ne(j.showQRCode,{origin:e.origin}),n={verificationLink:t.verificationLink,useQRCode:t.useQRCode,origin:e.origin}):t.pageName===G?n={communityStandardsUrl:S.urlService.resolveUrl(ze,"/info/community-guidelines"),voiceFAQUrl:S.urlService.resolveUrl(ze,"/info/voice-faq"),requireExplicitVoiceConsent:t.requireExplicitVoiceConsent,useVoiceUpsellV2Design:t.useVoiceUpsellV2Design,voiceUpsellV1Keys:{heading:"Heading.LetsChat",enableVoiceChat:"Label.EnableVoiceChat1",followCommunityStandards:"Label.FollowCommunityStandards",implicitConsent:"Label.ImplicitConsentVoiceCollectionWithML",explicitConsent:"Label.ExplicitConsentVoiceCollectionWithML",learnMoreAboutVoiceRecording:"Label.LearnMoreAboutVoiceRecording",buttonStack:[{explicitDisable:!1,variant:k.Button.variants.secondary,text:"Action.SkipVoiceChat",callback:function(){De(j.joinWithoutVoiceChat),t.close()}},{explicitDisable:!0,variant:k.Button.variants.primary,text:"Label.EnableVoiceChat",callback:function(){Me(!0,!0),t.close()}}]},voiceUpsellV2Keys:{heading:"Heading.V2LetsChat",enableVoiceChat:"Label.V2EnableVoiceChat1",followCommunityStandards:"Label.FollowCommunityStandards",implicitConsent:"Label.V2ClickToConsent",explicitConsent:"Label.V2ClickToConsent",learnMoreAboutVoiceRecording:"Label.LearnMoreAboutVoiceRecording",buttonStack:[{explicitDisable:!0,variant:k.Button.variants.primary,text:"Label.V2EnableVoiceChat",callback:function(){De(j.enableVoiceChatUpsell),Me(!0,!0),t.close()}},{explicitDisable:!1,variant:k.Button.variants.secondary,text:"Label.V2JoinWithout",callback:function(){De(j.joinWithoutVoiceChat),t.close()}}]}}:t.pageName===X&&(n={title:"Title.CameraUpsell",animateYourAvatar:"Description.CameraUpsell",communityStandards:"Description.CommunityStandardsUpsell",cameraPrivacy:"Description.CameraPrivacy",implicitConsent:"Description.DefaultConsentCameraUpsell",explicitConsent:"Description.ExplicitConsentCameraUpsell",learnMore:"Label.CameraLearnMoreUpsell",facialPrivacyUrl:S.urlService.resolveUrl(ze,"/info/facial-animation-privacy"),requireExplicitCameraConsent:t.requireExplicitCameraConsent,useCameraU13Design:t.useCameraU13Design,buttons:[{text:"Label.EnableCameraUpsell",explicitDisable:!0,callback:function(){Be(!0,!0),De(j.enableAvatarVideo),t.close()}},{text:"Label.JoinWithoutCameraUpsell",explicitDisable:!1,callback:function(){De(j.joinWithoutAvatarVideo),t.close()}}]}),_e(_e({},e),{},{pageName:t.pageName,pageState:n});case V:return _e(_e({},e),{},{errorMsg:t.errorMsg});case P:return _e(_e({},e),{},{isEmailUpdating:t.isEmailUpdating});case R:return e.pageName===q?_e(_e({},e),{},{userEmailInput:t.value,errorMsg:""}):e;case L:if(e.pageName!==q)return e;var r=c.CurrentUser&&!c.CurrentUser.isUnder13,a=Ye,i=Je,o=We,l="";return e.skipCallback&&(l=Ke),_e(_e({},e),{},{titleText:o,bodyText:r?a:i,primaryButtonText:Qe,secondaryButtonText:l,errorMsg:"",userEmailInputPlaceholder:r?Ge:Xe});case M:return _e(_e({},e),{},{closeCallback:t.callback,callbackReady:!0});case B:return _e(_e({},e),{},{callbackReady:!0});case O:return e.callbackReady&&(i=(a=e.pageName===_||e.pageName===F)||e.pageName===H,l=a,r=i,c.Hybrid&&c.Hybrid.Navigation&&c.Hybrid.Navigation.navigateToFeature({feature:"close-veratad-modal-event",overage:l,verified:r}),e.closeCallback&&e.closeCallback(a,i)),_e({},Ze);default:return e}}function tt(e){var t=e.children,e=(n=qe((0,w.useReducer)(et,Ze),2))[0],n=n[1];return x().createElement($e.Provider,{value:{idVerificationState:e,dispatch:n}},t)}function nt(){return(0,w.useContext)($e)}function rt(e){var t=e.onHide,n=e.onPrimaryAction,r=e.onSecondaryAction,a=e.onInputChange,i=e.onInputFocus,o=e.onKeyDown,l=e.translate,c=nt().idVerificationState,s=c.pageName,u=c.titleText,d=c.bodyText,f=c.primaryButtonText,p=c.secondaryButtonText,m=c.userEmailInput,g=c.userEmailInputPlaceholder,h=c.userEmail,e=c.errorMsg,c=c.isEmailUpdating;return x().createElement(x().Fragment,null,x().createElement(k.Modal.Header,{useBaseBootstrapComponent:!0},x().createElement("div",{className:"email-upsell-title-container"},x().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:t},x().createElement("span",{className:"close icon-close"})),x().createElement(k.Modal.Title,{id:"contained-modal-title-vcenter"},l(u)))),x().createElement(k.Modal.Body,null,x().createElement("div",{className:"email-upsell-image"}),x().createElement("p",{className:"email-upsell-text-body"},l(d,{emailAddress:h})),s===q&&x().createElement("input",{type:"email",autoFocus:!0,className:"".concat(e?"input-field-error":""," form-control input-field email-upsell-modal-input"),placeholder:l(g),value:m,onFocus:function(){return i()},onChange:function(e){return a(e.target.value)},onKeyDown:function(e){return o(e.key)}}),e&&x().createElement("p",{className:"text-error modal-error-message"},l(e))),x().createElement(k.Modal.Footer,null,x().createElement("div",{className:"email-upsell-footer-container"},s===q&&x().createElement(k.Button,{className:"modal-button email-upsell-btn",variant:k.Button.variants.cta,size:k.Button.sizes.medium,isDisabled:c,onClick:n},l(f)),p&&x().createElement("button",{type:"button",className:"change-email-button",onClick:r},l(p)))))}tt.propTypes={children:n().node.isRequired},rt.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,onPrimaryAction:n().func.isRequired,onSecondaryAction:n().func.isRequired,onInputChange:n().func.isRequired,onKeyDown:n().func.isRequired,onInputFocus:n().func.isRequired};var at=(0,i.withTranslations)(rt,{common:[],feature:"Feature.VerificationUpsell"}),f=$t(204),it=$t.n(f),f=$t(802),ot=$t.n(f),f=$t(779),lt=$t.n(f);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut=function(n,e,t,r,a){var i=ct((0,w.useState)(!a),2),o=i[0],l=i[1];return[x().createElement("div",{className:"checkbox checkbox-container"},a?x().createElement(x().Fragment,null,x().createElement("input",{type:"checkbox",checked:o,onClick:function(){l(!o),Ie(o)},id:"isShowOverlayChecked"}),x().createElement("label",{htmlFor:"isShowOverlayChecked",className:"voice-modal-checkbox-label"},n(r,{linkStart:"",linkEnd:""}))):x().createElement("span",null,n(t,{linkStart:"",linkEnd:""}))),e.map(function(e){var t=e.variant===k.Button.variants.primary;return x().createElement("span",{key:e.text},x().createElement(k.Button,{className:lt()("button-stack-button",{"primary-link":t,"secondary-link":!t}),variant:e.variant,size:k.Button.sizes.medium,isDisabled:a&&e.explicitDisable&&!o,onClick:e.callback},n(e.text)))})]};function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e){var t=e.translate,n=e.communityStandardsUrl,r=e.voiceFAQUrl,a=e.requireExplicitVoiceConsent,i=e.heading,o=e.enableVoiceChat,l=e.followCommunityStandards,c=e.implicitConsent,s=e.explicitConsent,u=e.learnMoreAboutVoiceRecording,d=e.buttonStack,f=e.useVoiceUpsellV2Design,s=dt(ut(t,d,c,s,a),2),a=s[0],s=s[1];return(0,w.useEffect)(function(){De(j.showEnableVoiceChatModal),Oe()},[]),x().createElement(x().Fragment,null,x().createElement(k.Modal.Header,{useBaseBootstrapComponent:!0},x().createElement("div",{className:"email-upsell-title-container"},x().createElement(k.Modal.Title,{id:"contained-modal-title-vcenter"},t(i)))),x().createElement(k.Modal.Body,null,x().createElement("div",null,x().createElement("div",{className:"legal-enable-page-row"},x().createElement("img",{width:60,height:60,src:ot(),alt:""}),x().createElement("p",{className:"legal-enable-page-row-label"},t(o))),x().createElement("div",{className:"legal-enable-page-row"},x().createElement("img",{width:60,height:60,src:it(),alt:""}),x().createElement("p",{className:"legal-enable-page-row-label",dangerouslySetInnerHTML:{__html:t(l,{linkStart:'<a class="text-name" target="_blank" rel="noreferrer" href='.concat(n,">"),linkEnd:"</a>"})}}))),a),x().createElement(k.Modal.Footer,null,s),x().createElement("div",{className:"text-footer legal-enable-page-text-footer border-top"},x().createElement("span",null,x().createElement("div",{className:"icon-moreinfo"}),x().createElement("a",{className:"text-link legal-enable-page-text-footer-link",target:"_blank",rel:"noreferrer",href:r,onClick:function(){return f&&De(j.learnMoreAboutVoiceRecordingUpsell)}},t(u)))))}pt.propTypes={translate:n().func.isRequired,heading:n().string.isRequired,enableVoiceChat:n().string.isRequired,followCommunityStandards:n().string.isRequired,buttonStack:n().arrayOf(n().shape({variant:n().oneOf(k.Button.variants),text:n().string,callback:n().func,explicitDisable:n().bool})).isRequired,implicitConsent:n().string.isRequired,explicitConsent:n().string.isRequired,requireExplicitVoiceConsent:n().bool.isRequired,learnMoreAboutVoiceRecording:n().string.isRequired,communityStandardsUrl:n().string.isRequired,voiceFAQUrl:n().string.isRequired,useVoiceUpsellV2Design:n().bool.isRequired};var mt=pt;function gt(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e){var t=e.translate,n=e.onHide,r=e.verificationLink,a=e.useQRCode,i=e.origin,o=e.entry,l=ht((0,w.useState)(),2),c=l[0],s=l[1],e=ht((0,w.useState)(!1),2),l=e[0],u=e[1];(0,w.useEffect)(function(){function e(){var l;return l=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.hz(r,{errorCorrectionLevel:"H"});case 3:t=e.sent,s(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:return e.prev=10,u(a&&t),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,7,10,13]])}),(e=function(){var e=this,o=arguments;return new Promise(function(t,n){var r=l.apply(e,o);function a(e){gt(r,t,n,a,i,"next",e)}function i(e){gt(r,t,n,a,i,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[a,r]);o=o===te?"_self":"_blank";return x().createElement(x().Fragment,null,x().createElement(k.Modal.Header,{useBaseBootstrapComponent:!0},x().createElement("div",{className:"email-upsell-title-container"},x().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:n},x().createElement("span",{className:"close icon-close"})),x().createElement(k.Modal.Title,{id:"contained-modal-title-vcenter"},t("Heading.IdentityVerification")))),x().createElement(k.Modal.Body,{className:"verification-link-page-content"},x().createElement("div",{className:"verification-link-upsell"},t("Label.AgeVerifyPrompt")),x().createElement("div",{className:"preparation-list-wrapper"},x().createElement("div",{className:"preparation-list-item"},x().createElement("span",{className:"icon-menu-document"}),x().createElement("div",{className:"preparation-list-text"},x().createElement("div",{className:"preparation-title"},t("Label.PrepareId")),x().createElement("div",{className:"preparation-text"},t("Label.ValidIdList")))),l&&x().createElement("div",{className:"preparation-list-item"},x().createElement("span",{className:"icon-menu-mobile"}),x().createElement("div",{className:"preparation-list-text"},x().createElement("div",{className:"preparation-title"},t("Label.UseSmartphone")),x().createElement("div",{className:"preparation-text"},t("Label.SmartphoneRequired"))))),l&&x().createElement("div",null,x().createElement("div",{className:"verification-link-upsell"},t("Label.ScanQRCode")),x().createElement("div",{className:"qr-code-wrapper"},x().createElement("img",{className:"qr-code-img",src:c,alt:"qr"}))),x().createElement("p",{className:"verification-link-legal",dangerouslySetInnerHTML:{__html:t("Label.PrivacyNoticeAndLink",{spanStart:"<a class='text-link' href='https://en.help.roblox.com/hc/en-us/articles/4412863575316'>",spanEnd:"</a>"})}}),!l&&x().createElement("a",{href:r,onClick:function(){Ne(j.verificationLinkClicked,{origin:i})},target:o,rel:"noreferrer"},x().createElement(k.Button,{className:"primary-link",variant:k.Button.variants.primary,size:k.Button.sizes.medium,width:k.Button.widths.full},t("Action.StartSession")))))}yt.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,verificationLink:n().string.isRequired,useQRCode:n().bool.isRequired,origin:n().string.isRequired,entry:n().string.isRequired};var bt=yt;function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e){var n=e.translate,t=e.onHide,r=e.heading,a=e.icon,i=e.bodyText,o=e.errorState,l=e.footerText,c=e.userEmail,s=e.daysUntilNextVerification,u=e.canClose,d=e.buttonStack,f=e.includeLink,p=e.displayCheckbox,e=Et((0,w.useState)(!1),2),m=e[0],g=e[1];return x().createElement(x().Fragment,null,x().createElement(k.Modal.Header,{useBaseBootstrapComponent:!0},x().createElement("div",{className:"email-upsell-title-container"},u&&x().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:t},x().createElement("span",{className:"close icon-close"})),x().createElement(k.Modal.Title,{id:"contained-modal-title-vcenter"},n(r)))),x().createElement(k.Modal.Body,null,a&&x().createElement("div",{className:a}),x().createElement("ul",{className:o?"content-list error-text":"content-list"},f?i.map(function(e){return x().createElement("li",{dangerouslySetInnerHTML:{__html:n(e,{spanStart:"<a class='text-link' href='/info/privacy'>",spanEnd:"</a>",boldStart:"<b>",boldEnd:"</b>"})}})}):i.map(function(e){return x().createElement("li",null,n(e,{age:18,email:c,days:s}))})),p&&x().createElement("div",{className:"checkbox checkbox-container"},x().createElement("input",{id:"isShowOverlayChecked",type:"checkbox",checked:m,onClick:function(){g(!m),Ie(m)}}),x().createElement("label",{htmlFor:"isShowOverlayChecked"},n("Label.DontShowAgain")))),x().createElement(k.Modal.Footer,null,l&&x().createElement("p",{className:"small"},x().createElement("b",null,n(l))),d.map(function(e){var t=e.variant===k.Button.variants.primary;return x().createElement("span",{key:e.text},x().createElement(k.Button,{className:lt()("button-stack-button",{"primary-link":t,"secondary-link":!t}),variant:e.variant,size:k.Button.sizes.medium,onClick:e.callback},n(e.text)))})))}function wt(){var e={retryable:!0,withCredentials:!0,url:"".concat(h,"/v1/email/verify")};return S.httpService.post(e).then(function(){return!0},function(){return!1})}Ct.defaultProps={errorState:!1,footerText:null,userEmail:null,daysUntilNextVerification:0,canClose:!0,includeLink:!1,displayCheckbox:!1},Ct.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,heading:n().string.isRequired,icon:n().string.isRequired,bodyText:n().arrayOf(n().string).isRequired,errorState:n().bool,footerText:n().string,userEmail:n().string,daysUntilNextVerification:n().number,canClose:n().bool,includeLink:n().bool,buttonStack:n().arrayOf(n().shape({variant:n().oneOf(k.Button.variants),text:n().string,callback:n().func})).isRequired,displayCheckbox:n().bool};var xt=Ct,f=$t(52),St=$t.n(f),f=$t(771),kt=$t.n(f);function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=function(t,e,n,r,a){var i=Nt((0,w.useState)(!r),2),o=i[0],l=i[1];return[x().createElement("div",{className:"checkbox checkbox-container"},r?x().createElement(x().Fragment,null,x().createElement("input",{type:"checkbox",checked:o,onClick:function(){l(!o)},id:"isShowOverlayChecked"}),x().createElement("label",{htmlFor:"isShowOverlayChecked",className:"voice-modal-checkbox-label"},t(n))):x().createElement("span",null,t(e))),a.map(function(e){return x().createElement("div",{className:"half-flex",key:e.text},x().createElement(k.Button,{className:"button-stack-button secondary-link",variant:"secondary",size:k.Button.sizes.medium,isDisabled:r&&e.explicitDisable&&!o,onClick:e.callback},t(e.text)))})]};function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e){var t=e.translate,n=e.title,r=e.animateYourAvatar,a=e.communityStandards,i=e.implicitConsent,o=e.explicitConsent,l=e.requireExplicitCameraConsent,c=e.learnMore,s=e.facialPrivacyUrl,u=e.buttons,d=e.cameraPrivacy,e=e.useCameraU13Design,l=Rt(Tt(t,i,o,l,u),2),u=l[0],l=l[1];return(0,w.useEffect)(function(){De(j.showUnifiedChatUpsellModal),je()},[]),x().createElement(x().Fragment,null,x().createElement(k.Modal.Header,{useBaseBootstrapComponent:!0},x().createElement("div",{className:"email-upsell-title-container"},x().createElement(k.Modal.Title,{id:"contained-modal-title-vcenter"},t(n)))),x().createElement(k.Modal.Body,null,x().createElement("div",null,x().createElement("div",{className:"legal-enable-page-row"},x().createElement("img",{width:60,height:60,src:kt(),alt:""}),x().createElement("p",{className:"legal-enable-page-row-label"},t(r))),x().createElement("div",{className:"legal-enable-page-row"},x().createElement("img",{width:60,height:60,src:(e?St:it)(),alt:""}),x().createElement("p",{className:"legal-enable-page-row-label"},t(e?d:a)))),u),x().createElement(k.Modal.Footer,null,x().createElement("div",{className:"half-flex-container"},l)),x().createElement("div",{className:"text-footer legal-enable-page-text-footer border-top"},x().createElement("span",null,x().createElement("div",{className:"icon-moreinfo"}),x().createElement("a",{className:"text-link legal-enable-page-text-footer-link",target:"_blank",rel:"noreferrer",href:s,onClick:function(){return De(j.learnMoreAvatarVideo)}},t(c)))))}Pt.propTypes={translate:n().func.isRequired,title:n().string.isRequired,animateYourAvatar:n().string.isRequired,communityStandards:n().string.isRequired,implicitConsent:n().string.isRequired,explicitConsent:n().string.isRequired,learnMore:n().string.isRequired,facialPrivacyUrl:n().string.isRequired,buttons:n().arrayOf(n().object).isRequired,requireExplicitCameraConsent:n().bool.isRequired,cameraPrivacy:n().string.isRequired,useCameraU13Design:n().bool.isRequired};var Ut=Pt;function It(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Mt(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?It(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ot(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function jt(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=l.apply(e,o);function a(e){Ot(r,t,n,a,i,"next",e)}function i(e){Ot(r,t,n,a,i,"throw",e)}a(void 0)})}}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ft=(f=!!c.DeviceMeta&&(0,c.DeviceMeta)()).isAndroidApp,Ht=f.isDesktop,_t=Ve.MessageConfirmationEmailNotSent,zt=Ve.MessageInvalidEmailAddress;function Kt(e){var t=e.translate,p=e.entry,n=nt(),r=n.idVerificationState,m=n.dispatch,a=r.pageName,i=r.pageState,o=Dt((0,w.useState)(!1),2),l=o[0],c=o[1],s=Dt((0,w.useState)(!1),2),u=s[0],d=s[1],g=(0,w.useRef)("");function h(){m({type:O}),d(!1),g.current="",p===Z&&a===_&&document.location.reload()}function f(){Ne(j.exitIdentityVerification,{origin:p}),h()}function v(e){if(null!=e&&e.isVerified&&null!=e&&e.verifiedAge){try{Ie(!0)}catch(e){console.log(e)}p===Z?m({type:T,pageName:_,dispatch:m,close:function(){h()}}):18<=e.verifiedAge?m({type:T,pageName:F,dispatch:m,close:function(){m({type:T,pageName:G,dispatch:m,close:function(){h()}})}}):m({type:T,pageName:H,dispatch:m,close:function(){h()}})}else m({type:T,pageName:z,dispatch:m,close:function(){h()}})}var y=function(){var e=jt(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe();case 2:t=e.sent,c(!1),t&&t.verificationLink&&t.sessionIdentifier?(Ne(j.showModal,{origin:p}),n=t.verificationLink,p===te&&(r=S.urlService.getQueryParam("wid"),r=S.urlService.getUrlWithQueries(we,{wid:r,action:"IdVerifyPending"}),n="".concat(t.verificationLink,"&redirect-uri=").concat(encodeURIComponent(r))),m({type:T,pageName:W,verificationLink:n,useQRCode:Ht,dispatch:m}),function(c,s){var u=Number(new Date)+18e5,d=ne;function f(e,t){return n.apply(this,arguments)}function n(){return(n=jt(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(c).catch(function(){return{sessionStatus:d}});case 2:if(r=e.sent,a=r.sessionStatus,o=i=null,!a||a===d){e.next=41;break}d=a,l=he,e.t0=a,e.next=e.t0===oe||e.t0===ae?12:e.t0===ie?27:e.t0===se?29:e.t0===le?31:e.t0===ce?34:e.t0===re?37:(e.t0,39);break;case 12:i=z,e.t1=r.sessionErrorCode,e.next=e.t1===ue||e.t1===fe?16:e.t1===pe||e.t1===de?18:e.t1===me?20:e.t1===ge?22:24;break;case 16:return o="Label.FailedVerificationInvalidDocument",e.abrupt("break",26);case 18:return o="Label.FailedVerificationLowQuality",e.abrupt("break",26);case 20:return o="Label.FailedVerificationUnsupportedDocument",e.abrupt("break",26);case 22:return o="Label.FailedVerificationMaxAccountsLinked",e.abrupt("break",26);case 24:return o="Label.FailedVerification",e.abrupt("break",26);case 26:return e.abrupt("break",40);case 27:return i=K,e.abrupt("break",40);case 29:return i=_,e.abrupt("break",40);case 31:return Ne(j.verificationInProgress,{origin:p}),l=ve,e.abrupt("break",40);case 34:return Ne(j.verificationPending,{origin:p}),l=ye,e.abrupt("break",40);case 37:return l=be,e.abrupt("break",40);case 39:return e.abrupt("break",40);case 40:d!==ne&&m({type:T,pageName:Q,origin:p,verificationLink:s,useQRCode:Ht,checklistStep:l,dispatch:m});case 41:g.current!==c?t(!1):i?(m({type:T,pageName:i,textKey:o,isSeventeenPlus:r.isSeventeenPlus,dispatch:m,close:function(){h()}}),t(d)):Number(new Date)<u?setTimeout(f,15e3,t,n):(m({type:T,pageName:z,textKey:"Label.SessionTimeout",dispatch:m,close:function(){h()}}),t(!1));case 42:case"end":return e.stop()}},e)}))).apply(this,arguments)}g.current=c,new Promise(f)}(t.sessionIdentifier,t.verificationLink)):0<(null==t?void 0:t.daysUntilNextVerification)?m({type:T,pageName:J,daysUntilNextVerification:t.daysUntilNextVerification,dispatch:m,close:function(){h()}}):m({type:T,pageName:Y,dispatch:m,close:function(){h()}}),d(!0);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function b(){var e,t;r.pageName===q?(t=r.userEmailInput,/\S+@\S+\.\S+/.test(t)?(Ne(j.addEmailConfirm,{origin:p}),m({type:P,isEmailUpdating:!0}),e={emailAddress:r.userEmailInput},t=C(),S.httpService.post(t,e).then(function(){return!0},function(e){return e.data.errors&&e.data.errors[0].code}).then(function(e){e===Ve.InvalidEmailCode?(m({type:V,errorMsg:zt}),m({type:P,isEmailUpdating:!1})):(e=C(),S.httpService.get(e).then(function(e){e=e.data;return null==e?void 0:e.emailAddress},function(){return!1}).then(function(e){e?(m({type:N,isEmailVerified:!1,userEmail:e}),wt(),m({type:I}),m({type:P,isEmailUpdating:!1}),c(!0)):m({type:V,errorMsg:_t})}))}),m({type:L})):m({type:V,errorMsg:zt})):h()}function E(){var e;e=C(),S.httpService.get(e).then(function(e){return e.data},function(){return!1}).then(function(e){e&&(m({type:U,origin:p,skipCallback:!1}),m({type:N,isEmailVerified:e.isEmailVerified,userEmail:e.emailAddress}),e.emailAddress?c(!0):(Ne(j.showAddEmailModal,{origin:p}),m({type:T,pageName:q,dispatch:m}),m({type:L}),d(!0)))},function(){m({type:T,pageName:Y,dispatch:m,close:function(){h()}}),m({type:L}),d(!0)})}(0,w.useEffect)(function(){l&&y()},[l]),(0,w.useEffect)(function(){m({type:U,origin:p,skipCallback:!1}),window.addEventListener(Ce,function(e){m({type:M,callback:e.detail.successCallback}),Se().then(function(e){null!=e&&e.isVerified?(d(!0),v(e)):p===ee?(d(!0),m({type:T,pageName:D,dispatch:m,continue:function(){E()}})):E()})},!1),window.addEventListener(Ee,function(e){var t=e.detail,n=t.requireExplicitVoiceConsent,t=t.useVoiceUpsellV2Design;d(!0),m({type:T,pageName:G,requireExplicitVoiceConsent:n,useVoiceUpsellV2Design:t,dispatch:m,close:function(){e.detail.closeCallback(!0),h()}})}),window.addEventListener(Ae,function(e){var t=e.detail,n=t.requireExplicitCameraConsent,t=t.useCameraU13Design;d(!0),m({type:T,pageName:X,requireExplicitCameraConsent:n,useCameraU13Design:t,dispatch:m,close:function(){e.detail.closeCallback(!0),h()}})}),p===$&&(m({type:B}),Se().then(function(e){null!=e&&e.isVerified?(d(!0),v(e)):E()},function(){m({type:T,pageName:Y,dispatch:m,close:function(){h()}}),d(!0)}))},[]);var A=null,e="lg",n="static",o=f;return i&&(A=a===W?x().createElement(bt,Bt({},i,{onHide:o,translate:t,entry:p})):a===Q?x().createElement(Re,Bt({},i,{onHide:o,translate:t})):a===G?(s=Mt({communityStandardsUrl:i.communityStandardsUrl,voiceFAQUrl:i.voiceFAQUrl,requireExplicitVoiceConsent:i.requireExplicitVoiceConsent,useVoiceUpsellV2Design:i.useVoiceUpsellV2Design},i.useVoiceUpsellV2Design?i.voiceUpsellV2Keys:i.voiceUpsellV1Keys),o=function(){De(j.closeEnableVoiceChatModal),f()},i.useVoiceUpsellV2Design&&(e="md",n=!0),x().createElement(mt,Bt({},s,{translate:t}))):a===X?(e="md",x().createElement(Ut,Bt({},i,{onHide:o,translate:t}))):x().createElement(xt,Bt({},i,{onHide:o,translate:t}))),x().createElement("div",null,x().createElement(k.Modal,{show:u,onHide:o,backdrop:n,className:"".concat(Ft?"email-upsell-android-modal":""," email-upsell-modal"),size:a===_?"sm":e,"aria-labelledby":"contained-modal-title-vcenter",scrollable:"true",centered:"true"},a===q?x().createElement(at,{onHide:function(){f()},onPrimaryAction:b,onSecondaryAction:function(){r.pageName===q&&(r.skipCallback&&r.skipCallback(),m({type:I}),d(!1))},onInputFocus:function(){Ne(j.useAddEmailField,{origin:p})},onInputChange:function(e){m({type:R,pageName:q,value:e})},onKeyDown:function(e){return e===Ve.Enter&&b()}}):A))}Kt.propTypes={translate:n().func.isRequired,entry:n().string.isRequired,vendor:n().string.isRequired};var Qt=Kt;function Yt(e){var t=e.translate,e=e.entry;return x().createElement(tt,null,x().createElement(Qt,{translate:t,entry:e}))}Yt.defaultProps={entry:ee},Yt.propTypes={translate:n().func.isRequired,entry:n().string};var Jt=(0,i.withTranslations)(Yt,{common:["CommonUI.Controls"],feature:"Verification.Identity"});function Wt(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Gt(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=l.apply(e,o);function a(e){Wt(r,t,n,a,i,"next",e)}function i(e){Wt(r,t,n,a,i,"throw",e)}a(void 0)})}}function Xt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Gt(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.getElementById(a))?(n=t.getAttribute("entry"),(0,r.render)(x().createElement(Jt,{entry:n||void 0}),t)):window.requestAnimationFrame(Xt);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}e().IdentityVerificationService={getPersonaVerificationStatus:ke,getVerifiedAge:Se,startVerificationFlow:function(){return new Promise(function(n){var e=new CustomEvent(Ce,{detail:{successCallback:function(e,t){n([e,t])}}});window.dispatchEvent(e)})},sendIdVerificationEvent:Ne,showVoiceOptInOverlay:function(n,r){return new Promise(function(t){var e=new CustomEvent(Ee,{detail:{closeCallback:function(e){t(e)},requireExplicitVoiceConsent:n,useVoiceUpsellV2Design:r}});window.dispatchEvent(e)})},showAvatarVideoOptInOverlay:function(n,r){return new Promise(function(t){var e=new CustomEvent(Ae,{detail:{closeCallback:function(e){t(e)},requireExplicitCameraConsent:n,useCameraU13Design:r}});window.dispatchEvent(e)})}},(0,S.ready)(Gt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.next=3,Xt();e.next=3;break;case 3:case"end":return e.stop()}},e)})))}()}();
//# sourceMappingURL=https://js.rbxcdn.com/dac0a4008c2e2ef56199e7dec8ecd74d-idVerification.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("IdVerification");